<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>For tomcat benchmark testing</title>

  <meta name="author" content="Martin Liu" />

  

  <link rel="alternate" type="application/rss+xml" title="Martin's Blog - DevOps Coach & Cloud Expert!" href="/feed.xml" />

  
    
      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" />
    
  

  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
  

  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

  

  

  

    <!-- Facebook OpenGraph tags -->
  

  
  <meta property="og:title" content="For tomcat benchmark testing" />
  

   
  <meta property="og:description" content="Tomcat Configuration 查看一下可以配置的参数设置JVM的参数Setting JVM Options for TomcatEdit the /usr/locat/apache-tomcat/bin/catalina.sh file and add the JVM options to the JAVA_OPTS environment variable.JVM Option Value Description-Xmx 4g The maximum Java heap size.-Xms 4g The initial Java heap size.-Xmn 1g The size of young generation.-XX:+UseParallelGC – To use parallel garbage collection for scavenges.-XX:PermSize 50m...">
  


  <meta property="og:type" content="website" />

  
  <meta property="og:url" content="http://localhost:4000/2009-07-04/for-tomcat-benchmark-testing/" />
  <link rel="canonical" href="http://localhost:4000/2009-07-04/for-tomcat-benchmark-testing/" />
  

  
  <meta property="og:image" content="http://localhost:4000/img/head-200-200.jpg" />
  
  

  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@zliu" />
  <meta name="twitter:creator" content="@zliu" />

  
  <meta name="twitter:title" content="For tomcat benchmark testing" />
  

  
  <meta name="twitter:description" content="Tomcat Configuration 查看一下可以配置的参数设置JVM的参数Setting JVM Options for TomcatEdit the /usr/locat/apache-tomcat/bin/catalina.sh file and add the JVM options to the JAVA_OPTS environment variable.JVM Option Value Description-Xmx 4g The maximum Java heap size.-Xms 4g The initial Java heap size.-Xmn 1g The size of young generation.-XX:+UseParallelGC – To use parallel garbage collection for scavenges.-XX:PermSize 50m...">
  

  
  <meta name="twitter:image" content="http://localhost:4000/img/head-200-200.jpg" />
  

</head>


  <body>
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="http://localhost:4000">Martin's Blog</a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            
            





<a href="/aboutme">About Me</a>

          </li>
        
        
        
          <li class="navlinks-container">
            <a class="navlinks-parent" href="javascript:void(0)">Resources</a>
            <div class="navlinks-children">
              
                
                  
            





<a href="http://www.aws-faq.com/">AWS-FAQ.com</a>

                
              
                
                  
            





<a href="http://devopscoach.org">devopscoach.org</a>

                
              
            </div>
          </li>
        
        
      </ul>
    </div>

	
	<div class="avatar-container">
	  <div class="avatar-img-border">
	    <a href="http://localhost:4000 ">
	      <img class="avatar-img" src="/img/head-200-200.jpg" />
		</a>
	  </div>
	</div>
	

  </div>
</nav>


    <!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>For tomcat benchmark testing</h1>
		  
		  
		  
		  <span class="post-meta">Posted on July 4, 2009</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>




<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post">
        <p>Tomcat Configuration  查看一下可以配置的参数<img src="http://tech.tomarea.com/wp-content/uploads/2009/02/tomcat-300x261.jpg" alt="TomCat" /><br /><br /><strong>设置JVM的参数Setting JVM Options for Tomcat</strong><br /><br />Edit the /usr/locat/apache-tomcat/bin/catalina.sh file and add the JVM options to the JAVA_OPTS environment variable.JVM Option Value Description<br />-Xmx 4g The maximum Java heap size.<br />-Xms 4g The initial Java heap size.<br />-Xmn 1g The size of young generation.<br />-XX:+UseParallelGC – To use parallel garbage collection for scavenges.<br />-XX:PermSize 50m The initial size of permanent generation.<br />注释：上面两个4g的值，我没试过，我用8GB内存windows的机器1.5GB能启动，超过了Tomcat服务就启动不了了。<br /><br /><strong>配置Tomcat Connector Attributes</strong><br />Edit the /usr/locat/apache-tomcat/conf/server.xml file and add the attributes listed in Table 3 to the Connector element.<br /><br />下面是个例子供参考<br /><Connector port="8080" protocol="HTTP/1.1" maxThreads="3000" acceptCount="200"></Connector><br />Tomcat Configuration Attribute Value Description<br />The maximum number of request processing threads to be created by this connector, which therefore determines the maximum number of simultaneous requests that can be handled. If not specified, the default value for this attribute is 40. If an executor is associated with this connector, this attribute is ignored and the connector executes tasks using the executor rather than an internal thread pool.<br />maxThreads 3000<br />The maximum queue length for incoming connection requests when all<br />possible request processing threads are in use. Any requests received when<br />the queue is full are refused. The default value is 10.<br />acceptCount 2000<br />The number of request processing threads that are created when this connector<br />is first started. The connector also verifies that it has the specified number of<br />idle processing threads available. This attribute should be set to a value smaller<br />than that set for maxThreads. The default value is 4.<br />minSpareThreads 500<br />The maximum number of unused request processing threads that are allowed<br />to exist until the thread pool starts stopping the unnecessary threads. The<br />default value is 50.<br />maxSpareThreads 2000<br />Set to “true” if you want calls to request.getRemoteHost() to perform DNS<br />lookups in order to return the actual host name of the remote client. Set to<br />enableLookups false “false” to skip the DNS lookup and return the IP address in String form instead<br />(thereby improving performance). By default, DNS lookups are enabled.<br /><br />上面的值比我实际使用的大，我的200并发测试通过了，硬件配置见前一帖。</p>

      </article>

      
        <div class="blog-tags">
          Tags:
          
            benchmark, opensource, Tomcat
          
        </div>
      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">

  <!--- Share on Twitter -->
  
    <a href="https://twitter.com/intent/tweet?text=For+tomcat+benchmark+testing+http://localhost:4000/2009-07-04/for-tomcat-benchmark-testing/"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fa fa-fw fa-twitter" aria-hidden="true"></span>
    </a>
  

  <!--- Share on Facebook -->
  
    <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2009-07-04/for-tomcat-benchmark-testing/"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fa fa-fw fa-facebook" aria-hidden="true"></span>
    </a>
  

  <!--- Share on Google Plus -->
  

  <!--- Share on LinkedIn -->
  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/2009-07-04/for-tomcat-benchmark-testing/"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fa fa-fw fa-linkedin" aria-hidden="true"></span>
    </a>
  

</section>



      

      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="/2009-07-04/free-wordpress-themes/" data-toggle="tooltip" data-placement="top" title="Free WordPress themes">&larr; Previous Post</a>
        </li>
        
        
        <li class="next">
          <a href="/2009-07-04/tomcat-e5-8e-8b-e5-8a-9b-e6-b5-8b-e8-af-95-e6-8c-ba-e4-bd-8f200-e5-b9-b6-e5-8f-91/" data-toggle="tooltip" data-placement="top" title="Tomcat压力测试-挺住200并发">Next Post &rarr;</a>
        </li>
        
      </ul>

      
        <div class="disqus-comments">
          

        </div>
      
    </div>
  </div>
</div>

    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="https://github.com/martinliu" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
		  
	  
      
          <li>
            <a href="https://plus.google.com/+MartinLiu-cn" title="Google+">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
		  
          <li>
            <a href="mailto:67120666@qq.com" title="Email me">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
		  
		  
		  
      
      
      
      
      
		  
        </ul>
        <p class="copyright text-muted">
		  Martin Liu
		  &nbsp;&bull;&nbsp;
		  2017

		  
		  &nbsp;&bull;&nbsp;
		  <a href="http://localhost:4000">martinliu.cn</a>
		  
	    </p>
	        <!-- Please don't remove this, keep my open source work credited :) -->
		<p class="theme-by text-muted">
		
		</p>
      </div>
    </div>
  </div>
</footer>

  
    






  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script>
      	if (typeof jQuery == 'undefined') {
      	  document.write('<script src="/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
      	}
      </script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/bootstrap.min.js"></script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/main.js"></script>
    
  




  
  </body>
</html>
