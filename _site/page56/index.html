<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Martin's Blog</title>
<meta name="description" content="DevOps Coach & Cloud Expert">
<meta name="keywords" content="DevOps, Cloud, AWS, HCI, Nutanix, ITSM">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://martinliu.cn/images/path.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="DevOps Coach & Cloud Expert">
<meta name="twitter:creator" content="@zliu">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="DevOps Coach & Cloud Expert">
<meta property="og:url" content="http://martinliu.cn/page56/">
<meta property="og:site_name" content="Martin's Blog">

<meta name="google-site-verification" content="4oSwNTpy1vzip3_lt6XhkhMfImCD_DZlvL3K1k-M8qk">



<link rel="canonical" href="http://martinliu.cn/page56/">
<link href="http://martinliu.cn/feed.xml" type="application/atom+xml" rel="alternate" title="Martin's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://martinliu.cn/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://martinliu.cn/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://martinliu.cn/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://martinliu.cn/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://martinliu.cn/images/apple-touch-icon.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://martinliu.cn/images/apple-touch-icon-72x72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://martinliu.cn/images/apple-touch-icon-114x114.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://martinliu.cn/images/apple-touch-icon-144x144.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://martinliu.cn/">首页</a></li>
		<li>
			<a href="#">关于</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://martinliu.cn/images/avatar.jpg" alt="Martin Liu photo" class="author-photo">
					<h4>Martin Liu</h4>
					<p>DevOps Coach, Cloud Expert, Runner</p>
				</li>
				<li><a href="http://martinliu.cn/about/"><span class="btn btn-inverse">详情</span></a></li>
				<li>
					<a href="mailto:67120666@qq.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/zliu"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+MartinLiu-cn"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="https://linkedin.com/in/liuzheng"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="https://github.com/martinliu"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">文章</a>
			<ul class="dl-submenu">
				<li><a href="http://martinliu.cn/posts/">所有文章</a></li>
				<li><a href="http://martinliu.cn/tags/">所有分类</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="http://martinliu.cn/images/path.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Martin's Blog</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2011-05-07T18:31:36+08:00"><a href="http://martinliu.cn/2011/05/07/let-remedy-ars-fly-2/">May 07, 2011</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2011/05/07/let-remedy-ars-fly-2/" rel="bookmark" title="让Remedy飞一会" itemprop="url">让Remedy飞一会</a></h1>
    
  </header>
  <div class="entry-content">
    <p><img src="http://www.ibm.com/developerworks/cn/websphere/techjournal/0909_blythe/images/figure6.jpg" alt="" />Remedy应用的性能优化是一个在系统建设过程中需要长期关注的问题，而不是在上线的前一天晚上去解决的问题，我也碰到过很棘手的性能问题，它确实爆发了，而且恰好在上线前夕爆发；之后感觉除了点背之外，感觉比较遗憾的是：为啥这个性能问题不早点爆发！</p>

<p>那么如何持续改进Remedy的性能？首先是硬件环境的准备情况，是否能在项目开始的第一天，就把开发，测试，生产环境统一装好。而不是到上线的前夕才去动生产环境。甚至于有条件的情况下，可不可以直接在生产环境上做开发，这样做的好处：让生产环境上性能优化的时间周期和机会尽可能的多，尽可能的长。当然这种机会毕竟不多，那么是否可以做到生产环境和开发环境的尽早的同步，也就是说：在开发到了一个小的阶段的时候，生产环境就可能就绪，就可以使用，这样把未成型的系统先部署上去，以便有机会做多次的生产系统性能调优。比较生产系统的性能最优化是项目的一大目标，不能等到最后才去仓促应战。曾经听说某行流程平台上线的第二天就挂了一次，这都是血淋淋的教训。总结一下：尽早的建设生产系统，优化生产系统，把开发好的那部分程序尽早迁移到生产上，长期的追逐系统性能，甚至于在生产环境上对此系统做压力测试。这些工作如果能够做的话，我想在上线日我们一定不会紧张。</p>

<p>如何追逐测试系统的性能。可以使用Web profiling工具如Fiddler。使用这种工具对某些特定操作持续的测试，把每次的测试结果保存下来，把时间记录到一个表格中。可以考虑测试如下内容：用户登录、打开事件控制台、创建一个事件单、搜索事件单等等，其他流程也类似。保证每次点击的次数都相同。其实从Fildder的分析数据中也可能得到很有价值的数据，如：那个Web调用的时间消耗最长，那些Web资源的请求出错。找出时间消耗做多的调用，就可以有针对性的优化应用了。总之：使用一种工具，在开发的整个过程中持续测试和优化，记录所有测试结果，这样在上线前对系统的性就能有客观参考依据。</p>

<p>另外要注意Remedy系统是一个标准的3层架构应用，你需要在系统调优的时候，有这样几种人的帮助：压力测试工具高手、JVM调优专家、数据库调优专家和Remed性能调优专家。还需要参考下列的参数配置。</p>

<h2 id="mid-tier">Mid-tier优化参数建议</h2>

<p>关于Mid-tier的一点建议，目前普通使用的Java应用服务器都是Tomcat，我一向是开源软件的粉丝，但是，还是建议如果有条件的话，还是上商业的产品，如Weblogic或者Websphere。这样可以获得能多一点的支持。
鉴于大多数系统还都是用的BMC的产品自带的Tomcat，下面是一些建议的参数配置。</p>

<h3 id="http-keep-alive">1-HTTP keep-alive</h3>

<p>Keep-alive count:  infinite (minimum 5000)
Connection timeout:90000 ms (minimum 60000 ms)</p>

<h3 id="jvm-settings">2-JVM settings</h3>

<p>JVM heap：-Xms1024m –Xmx1024m
MaxPermSize：-XX:MaxPermSize=256m
以Windows系统为例，可以使用Tomcat的配置界面工具，配置这两个参数。</p>

<h3 id="threads-configuration-of-the-application-server-hosting-the-mid-tier">3-Threads configuration of the application server hosting the mid tier</h3>

<p>maxThreads：500
acceptCount：100</p>

<p>关于1和3的 参数文件：tomcat dir/conf/sever.xml 的实例代码：
[xml]</p>

<Connector URIEncoding="UTF-8" acceptCount="100" connectionTimeout="90000" maxHttpHeaderSize="8192" maxKeepAliveRequests="-1" maxThreads="500" port="80" protocol="HTTP/1.1" redirectPort="8443" />

<p>[/xml]</p>

<p>以上参数配置并不是万能的，只是给出一个优化配置的基础，以此为起点调起来可能会更靠谱。</p>

<h3 id="fine-tuning-the-mid-tier">Fine tuning the mid tier</h3>

<p>Mid tier parameter or service：   Recommended value
<strong>Enable Cache Persistence</strong>：Always on for a production environment
<strong>Prefetch or preload service</strong>： Use prefetch only when a specific set of AR System forms are known. Otherwise, use preload (recommended).
<strong>Recommended preload procedure</strong>： 1.Turn on Enable Cache Persistence. 2.Turn on preload. 3.Allow preload to finish preloading all user facing AR System forms. 4.Turn off preload (allowing statistical service to take over).
<strong>arsystem.formhtmljs_expiry_interval **和 **arsystem.resource_expiry_interval</strong>： Set both parameters to the same value to reflect how often you want the browser to check with the mid tier for updates. In a deployment environment where the AR System applications are not modified, set to 604800 (1 week) or higher. The minimum recommended value is 86400 (1 day). For the new values to take effect, restart the mid tier.
<strong>Definition Change Check Interva</strong>l： In a deployment environment where the AR System applications are not modified, turn this off. Otherwise, map this to the frequency of your AR System application modification. For example, if you push changes out every Sunday, set this frequency to 604800 (1 week).
<strong>arsystem.log_level</strong>： Severe. This can also be set through the Mid Tier Configuration Tool</p>

<h2 id="ars">ARS优化参数建议</h2>

<p>打开ar.cfg参考一下参数，修改后重启ARS服务。</p>

<p><strong>Delay-Recache-Time:300</strong>
** Max-Entries-Per-Query:2000**
** Next-ID-Block-Size:100**
** Server-Side-Table-Chunk-Size:1000**
** Allow-Unqual-Queries:F**
** Cache-Mode:0**
** Debug-mode:0**
** Submitter-Mode:1**
** CMDB-Cache-Refresh-Interval:600**</p>

<h2 id="section">数据库优化参数建议</h2>

<p>数据库方面一定要依靠有经验的DBA，靠他们帮你搞定下面这两条：
• Configuring your AR System database server for optimal performance
• Diagnosing and resolving issues.
另外如果你是Oracle11g的数据库，可以自己动手搞定下面这一条：
Oracle 10g/11g database settings are recommended: Cursor_sharing = FORCE
在数据库上做如下操作：
[sql]
alter system set cursor_sharing=FORCE scope=both;
[/sql]
然后在ar.cfg里面加入这个参数。
Oracle-Cursor-Sharing: FORCE
然后重启ARS服务即可。</p>

<p>以上参数配置部分参考了BMC的官方文档《BMC Remedy AR System Server 7.6 Performance Tuning for Business Service Management 199037.pdf》，感兴趣的话可以去官方站点的文档下载里下载，该文章对以上参数有详细的解释。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2011-05-04T23:59:42+08:00"><a href="http://martinliu.cn/2011/05/04/remedy-itsm-7-6-04-quick-install-guide/">May 04, 2011</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2011/05/04/remedy-itsm-7-6-04-quick-install-guide/" rel="bookmark" title="Remedy ITSM 7.6.04 套件快速安装" itemprop="url">Remedy ITSM 7.6.04 套件快速安装</a></h1>
    
  </header>
  <div class="entry-content">
    <p><img src="http://media.cms.bmc.com/images/box_services_trio_compass.png" alt="" />自从Remedy ITSM 7.6.03版本发布以后，Remedy ITSM套件有了一种全新的安装方式“预配置堆栈式安装”，这种安装方法简化了以前从ARS开始一个部件罗一个部件的安装方法，它将ITSM套件中的所有组件一次性的安装上去。下面讲具体该如何操作。</p>

<h2 id="section">什么情况下使用这个安装方式？</h2>

<p>A）POC的情况下
B）客户的生产环境满足下面的需求：
• Microsoft Windows Server 2008 (64-bit) (Standard, Enterprise, or Datacenter) with Microsoft SQL Server 2008 (64-bit) (Standard or Enterprise)
• Oracle Solaris 10 with Oracle 11g (64-bit) (Standard, Enterprise, or RAC)
• Red Hat Enterprise Linux 5 (Update 5) (64-bit) with Oracle 11g (64-bit) (Standard, Enterprise, or RAC)
• Microsoft Windows Server 2008 (64-bit) (Standard, Enterprise, or Datacenter) with Oracle 11g (64-bit) (Standard or Enterprise)
Note: The BMC Remedy ITSM Suite Precon gured Stack installer supports only Unicode database servers</p>

<h2 id="section-1">这种方式安装了什么组件？</h2>

<p>BMC Remedy AR System server version 7.6.04
 AREA LDAP Directory Service Authentication
 ARDBC LDAP Directory Service Data Access
 Web Services Plugin
 Simple Network Management Protocol (SNMP) Configuration
 Full Text Search (FTS) Configuration
 Approval Server
 Assignment Engine
 Email Engine
 Flashboards
 Mid-Tier
 BMC Remedy AR System clients
 BMC Remedy User
 BMC Remedy Alert
 BMC Remedy Developer Studio
 BMC Remedy Data Import
 BMC Remedy Migrator
 Crystal Reports
 ODBC
 BMC Atrium Core
 BMC Atrium CMDB version 7.6.04
 Product Catalog version 7.6.04
 Atrium Impact Simulator version 7.6.04
 BMC Remedy ITSM Suite
 BMC Remedy Asset Management version 7.6.04
 BMC Remedy Change Management version 7.6.04
 BMC Remedy Incident Management version 7.6.04
 BMC Remedy Problem Management version 7.6.04
 BMC Remedy Service Desk 7.6.04
 BMC Service Level Management version 7.6.04
 BMC Remedy Knowledge Management version 7.6.0
如果你真的不需要安装以上所有组件，请不要使用此安装方法。</p>

<h2 id="section-2">需要什么硬件？</h2>

<p>System requirements for Microsoft Windows and UNIX®:
• Minimum 12 GB free disk space for the installation directory
• Minimum 8 GB free space for local database and remote database
• (For Red Hat Enterprise Linux® only) Minimum of 2.5 GB free space in the /tmp directory or /tmp file system.
• (For Oracle® Solaris only) Minimum of 2.5 GB free space in the /var/tmp directory or the file system.
• 3 GHz dual processor
• Minimum 3 GB RAM during installation; 8 GB RAM during runtime; 8 GB main memory for optimal performance
• (When 6 GB UNIX systems are used) Make sure that a minimum of 6 GB Swap Space is configured within the system.
如果您的硬件真的低于以上需要，请不要使用此安装方法，否则安装完之后系统可能不能正常运行。</p>

<h2 id="section-3">需要什么人参与？</h2>

<p>需要操作系统管理员和数据库管理员参与
以Linux+Oracle为例，可能需要如下环境变量
[bash]
export ORACLE_BASE=/u01/app/oracle
export ORACLE_SID=remedy
export ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ORACLE_HOME/lib
export NLS_LANG=en_US.UTF8
export LANG=en_US.utf8
export PATH=$PATH:$ORACLE_HOME/bin
[/bash]</p>

<h2 id="section-4">需要什么安装文件？</h2>

<p>以Linux+Oracle的安装为例，需要如下文件：</p>

<p>linux.x64_11gR2_database_1of2.zip
linux.x64_11gR2_database_2of2.zip
jdk-6u25-ea-bin-b03-linux-amd64-27_feb_2011.bin
BMCRemedyITSMSuitePreconfiguredStack7.6.04.Linux.tar.gz</p>

<h2 id="section-5">需要安装多长时间？</h2>

<p>大约1.5个小时左右，是的没有夸张，这个时间是在一个DELL E6400（64位，8GB内存）的笔记本上测得的，如果你有更好的硬件，相信可以更快，这应该是史上最快的Remedy ITSM套件安装速度，如果你也成功通过此方式安装，请留下评论留下下你的安装时间和系统配置情况。</p>

<h2 id="section-6">参考以下操作步骤</h2>

<p>安装之前需要根据网卡的MAC地址先申请一个Lic，接着基本上都是点Next，即可完成安装
[imagebrowser id=8]</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2011-04-10T19:11:27+08:00"><a href="http://martinliu.cn/2011/04/10/let-ubuntu-fly/">April 10, 2011</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2011/04/10/let-ubuntu-fly/" rel="bookmark" title="让Ubuntu飞一会儿" itemprop="url">让Ubuntu飞一会儿</a></h1>
    
  </header>
  <div class="entry-content">
    <p>很久以前我一直使用的rpm based Linux，原因很简单，我只要手握一张最新的DVD，就可以走遍天下都不怕，特别是对SuSE Linux的yast很依赖，因为它可以帮我解决rpm包之间的依赖性。这样工作起来就很简单，基本上是搜索到软件包之后，点击安装既可以搞定所有的软件安装工作。</p>

<p>来到Ubuntu世界的我并不很满意，最近一次的apt-get update，以失败告终，险些把家里的PC的一块硬盘给搞丢了，因为升级失败导致分区表失效了，Win操作系统不认了。直接崩溃，好在那Live Cd模式进入还能勉强看得那个盘里的东西，恢复到移动硬盘，重新格式化该分区，才把文件恢复了。着实让我虚惊一场。</p>

<p><img src="http://img3.cache.netease.com/www/logo/logo_png.png" alt="" />我比较喜欢一些小的LAMP堆栈式安装的Linux，如TurnkeyLinux。安装可以在10分钟内搞定系统安装。今年家里的宽度升级到2MB了，因此带宽上逐渐能满足Ubuntu这种从网上升级的需求。下面就是找国内的升级的源了，进过几个月的使用，最近觉得在北京的联通固定宽带的用户，使用163的镜像站点速度还是不错的。再次感谢国内的这样的无私奉献的公司，使得在国内的开源用户可以更快更方便。废话说了一堆：）哈哈下面也就是这几条命了的事情。</p>

<p>第一步，当然要选择近水楼台的163了，来参考http://mirrors.163.com/.help/ubuntu.html 的帮助文档，根据你操作系统的版本，更新/etc/apt/sources.list 文件即可，之后你的Ubuntu就是从国内的较快的站点上下载包了</p>

<p>第二步，安装多线程apt下载加速工具apt-fast</p>

<p>[bash]
root@lamp ~# apt-get install python-software-properties
root@lamp ~# add-apt-repository ppa:tldm217/tahutek.net
root@lamp ~# apt-get update
root@lamp ~# apt-get install apt-fast
root@lamp ~# apt-fast -v
apt 0.7.25.3ubuntu9.3 for i386 compiled on Sep  9 2010 22:22:02
Supported modules:
*Ver: Standard .deb
*Pkg:  Debian dpkg interface (Priority 30)
S.L: ‘deb’ Standard Debian binary tree
S.L: ‘deb-src’ Standard Debian source tree
Idx: Debian Source Index
Idx: Debian Package Index
Idx: Debian Translation Index
Idx: Debian dpkg status file
[/bash]</p>

<p>以后你在安装软件包就是用apt-fast install了，而不是apt-get install，至于apt-get么，不管你用还是不用，它就在哪里~~~~
最后一步（可选），如果你还经常要以cpan的方式安装perl的包的话，那么163上不管你用还是不用，他就在哪里，你也可以选择163最为perl的安装源。安装步骤如下：</p>

<p>[bash]
root@lamp perl/CPAN# pwd
/etc/perl/CPAN
root@lamp perl/CPAN# cp Config.pm Config.pm.bk
root@lamp perl/CPAN# ls
Config.pm  Config.pm.bk  Config.pm~
root@lamp perl/CPAN# vi Config.pm
[/bash]</p>

<p>修改Config.pm文件中的urllist值，修改成如下即可：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>'urllist' =&gt; [q[http://mirrors.163.com/cpan/]],
</code></pre>
</div>

<p>接下来就可以测试一下了：
[bash]
root@lamp perl/CPAN# cpan -i XML::Entities
[/bash]</p>

<p>如果你有其他让Ubuntu加速的方法，请留言：）</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2011-04-02T21:43:21+08:00"><a href="http://martinliu.cn/2011/04/02/ars-start-issue-on-oracle/">April 02, 2011</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2011/04/02/ars-start-issue-on-oracle/" rel="bookmark" title="ARS启动故障修复案例" itemprop="url">ARS启动故障修复案例</a></h1>
    
  </header>
  <div class="entry-content">
    <p>ARS版本 7.6.04
数据库 Oracle11G 和ARS在同一台服务器上</p>

<p>错误现象：
ARS服务不能正常启动
arerror.log报 390600 : SQL 数据库不可用 – 将重试连接 (ARNOTE 590)
Sat Apr 02 20:27:41 2011 : Action Request System(R) 服务器 x64 版本 7.6.04 Build 002 201101141059
(c) Copyright 1991-2010 BMC Software, Inc.
Sat Apr 02 20:29:51 2011  390600 : SQL 数据库不可用 – 将重试连接 (ARNOTE 590)
Sat Apr 02 20:29:51 2011     ORA-12170: TNS:Connect timeout occurred</p>

<p>排错步骤：
使用sqlplus测试登录，返回TNS超时错误
[powershell]
 C:\Users\martin&gt;sqlplus ARAdmin/AR#Admin#@ars
SQL*Plus: Release 11.2.0.1.0 Production on Sat Apr 2 20:48:35 2011
Copyright (c) 1982, 2010, Oracle.  All rights reserved.
ERROR:
ORA-12170: TNS:Connect timeout occurred   
[/powershell]
使用tnsping ars 测试也不成功
ping本机主机名
[powershell]
ping arsserver
Pinging arsserver [fe80::c123:5921:b71b:64fd%13] with 32 bytes of data:
Reply from fe80::c123:5921:b71b:64fd%13: time&lt;1ms
Reply from fe80::c123:5921:b71b:64fd%13: time&lt;1ms
Reply from fe80::c123:5921:b71b:64fd%13: time&lt;1ms
Reply from fe80::c123:5921:b71b:64fd%13: time&lt;1ms
Ping statistics for fe80::c123:5921:b71b:64fd%13:
Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
Minimum = 0ms, Maximum = 0ms, Average = 0ms 
[/powershell]
貌似找到原因，修改host文件，加入主机名到127.0.0.1 后面，在测试ping主机名成功。
重启Oracle监听器服务，再次测试tnsping 和sqlplus ，测试都获得成功。
重新启动ARS服务，服务被正常启动</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2011-03-29T17:13:03+08:00"><a href="http://martinliu.cn/2011/03/29/how-to-configure-statusnet-default-language/">March 29, 2011</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2011/03/29/how-to-configure-statusnet-default-language/" rel="bookmark" title="How to configure statusnet default language" itemprop="url">How to configure statusnet default language</a></h1>
    
  </header>
  <div class="entry-content">
    <p>If you are playing with statusnet, I bet you could not change default language; English language just shows every where.
So I’d like to write a quick guide to show you how to change perferred langguage as zh_cn.
I have a Ubuntu server with only English language pack.
[bash]
root@lamp www/statusnet# locale -a
C
POSIX
en_GB
[/bash]</p>

<p>I searched  and install Chinese language pack by aptitide
[bash]
root@lamp www/statusnet# aptitude search language-pack-zh
p   language-pack-zh                                                                 - translations for language Chinese (dummy package)
p   language-pack-zh-base                                                            - translations for language Chinese (dummy package)
P   language-pack-zh-hans                                                            - translation updates for language Simplified Chinese
P   language-pack-zh-hans-base                                                       - translations for language Simplified Chinese
p   language-pack-zh-hant                                                            - translation updates for language Traditional Chinese
p   language-pack-zh-hant-base                                                       - translations for language Traditional Chinese
root@lamp www/statusnet# aptitude install language-pack-zh-hans-base
[/bash]</p>

<p>Then I checked it again
[bash]
root@lamp www/statusnet# locale -a
C
POSIX
en_GB
zh_CN.utf8
zh_SG.utf8
[/bash]</p>

<p>Ubuntu OS has translations for language Simplified Chinese right, then I go ahead to configure statusnet config.php file. It only needs one more line as below, you can use your own language.
[php]
$config[‘site’][‘language’] = ‘zh_CN’;
[/php]</p>

<p>The final step, you login statusnet as administrator and go to /admin/site. Then you will select your language from dropdown list. I spend a few days to fix this problem. Just today, I realized my problem is Ubuntu linux server does not have Chinese Language pack yet. Show you my art as below :)
<a href="http://martinliu.cn/2011/03/how-to-configure-statusnet-default-language.html/statusnetzhcn"><img src="http://cdn1.martinliu.cn/wp-content/uploads/2011/03/statusnetzhcn-300x152.jpg" alt="如何配置statusnet默认为中文界面" /></a></p>

<p>如何在Ubuntu上配置statusnet默认为中文界面
1）安装中文语言包
2）配置config.php的默认语言
3）statusnet管理员配置站点的默认语言</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="http://martinliu.cn/page55/" class="btn">向前</a></li>
      
    

    
    
      <li><a href="http://martinliu.cn">1</a></li>
    

    
    
      
      
      <li>…</li>
    

    
    
    

    
      
        
        
        
        <li><a href="http://martinliu.cn/page54/">54</a></li>
      
    
      
        
        
        
        <li><a href="http://martinliu.cn/page55/">55</a></li>
      
    
      
        <li><strong class="current-page">56</strong></li>
      
    
      
        
        
        
        <li><a href="http://martinliu.cn/page57/">57</a></li>
      
    
      
        
        
        
        <li><a href="http://martinliu.cn/page58/">58</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="http://martinliu.cn/page94/">94</a></li>
    

    
    
      <li><a href="http://martinliu.cn/page57/" class="btn">下一页</a></li>
    
  </ul>
</div>



</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Martin Liu.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://martinliu.cn/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://martinliu.cn/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-749876-6', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>


          

</body>
</html>