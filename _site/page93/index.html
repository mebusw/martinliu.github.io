<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Martin's Blog</title>
<meta name="description" content="DevOps Coach & Cloud Expert">
<meta name="keywords" content="DevOps, Cloud, AWS, HCI, Nutanix, ITSM">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/path.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="DevOps Coach & Cloud Expert">
<meta name="twitter:creator" content="@zliu">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="DevOps Coach & Cloud Expert">
<meta property="og:url" content="/page93/">
<meta property="og:site_name" content="Martin's Blog">





<link rel="canonical" href="/page93/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Martin's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">首页</a></li>
		<li>
			<a href="#">关于</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="Martin Liu photo" class="author-photo">
					<h4>Martin Liu</h4>
					<p>DevOps Coach, Cloud Expert, Runner</p>
				</li>
				<li><a href="/about/"><span class="btn btn-inverse">详情</span></a></li>
				<li>
					<a href="mailto:67120666@qq.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/zliu"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+MartinLiu-cn"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="https://linkedin.com/in/liuzheng"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="https://github.com/martinliu"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">文章</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">所有文章</a></li>
				<li><a href="/tags/">所有分类</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="http://www.aws-faq.com" target="_blank">AWS-FAQ</a></li>
	  
	    
	    <li><a href="http://devopscoach.org" target="_blank">DevOps教练</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="/images/path.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Martin's Blog</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-25T11:09:00+08:00"><a href="/2007/02/25/nagios-nagvis/">February 25, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2007/02/25/nagios-nagvis/" rel="bookmark" title="Nagios华丽的外衣NagVis" itemprop="url">Nagios华丽的外衣NagVis</a></h1>
    
  </header>
  <div class="entry-content">
    <p>如果你用过Nagios的话，它的2D、3D Map一定会给你留下一些印象；2D Map的确能比较试用一点，不过看上去还是挺难看的。NagVis就是看到了这一点，它力求能让各种状态信息表达的更炫，更好看；它可以说是Nagios的一个不错的插件，直接copy到Nagios的相关目录下，配置一下就行了。它的效果如下图所示：<img src="http://www.nagvis.org/lib/exe/fetch.php?w=250&amp;h=&amp;cache=cache&amp;media=nagvis_mail_service.png" alt="" /><br />说的在玄虚一点它可以是一个“业务流程管理视图”[CA Unicenter中的名词，OpenView里也有类似的概念]。其实就是把原子的监控对象：被监控节点和节点上的服务；和业务系统或者IT的逻辑关系相结合起来。例如：我的业务系统A的其中一个数据库服务器的数据库进程停了，这个可以影响到所有物理包含或者逻辑包含它的对象的状态。NagVis试图用漂亮的图标来表达这些状态和关系，是管理者能看的更加直观。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-17T00:38:00+08:00"><a href="/2007/02/17/install-smokeping-via-yum/">February 17, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~4 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2007/02/17/install-smokeping-via-yum/" rel="bookmark" title="Install Smokeping via yum" itemprop="url">Install Smokeping via yum</a></h1>
    
  </header>
  <div class="entry-content">
    <p>From :<a href="http://www2.blogger.com/img/gl.link.gif"> http://ai.net.nz/horde/wicked/display.php?page=SmokePing</a><br /></p>

<h2 id="install-needed-packages">Install needed packages</h2>

<p><br /><strong>rrdtool</strong><br />
<code class="highlighter-rouge">
`yum install rrdtool
</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**perl-CGI-SpeedyCGI**&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">yum install perl-CGI-SpeedyCGI
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**fping**&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">yum install fping
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;** Or do them all together:**&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">yum install rrdtool perl-CGI-SpeedyCGI fping
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**Smokeping**&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">wget http://people.ee.ethz.ch/~oetiker/webtools/smokeping/pub/smokeping-2.0.9.tar.gztar xvzf smokeping-2.0.9.tar.gzmv smokeping-2.0.9 /usr/local/smokepingchown -R root:root /usr/local/smokeping&lt;br /&gt;&lt;br /&gt;cd /usr/local/smokeping/binfor foo in *.dist; do cp $foo </code>basename $foo .dist<code class="highlighter-rouge">; done&lt;br /&gt;&lt;br /&gt;cd  /usr/local/smokeping/etc/for foo in *.dist; do cp $foo </code>basename $foo .dist<code class="highlighter-rouge">; done&lt;br /&gt;&lt;br /&gt;cd /usr/local/smokeping/htdocsfor foo in *.dist; do cp $foo </code>basename $foo .dist<code class="highlighter-rouge">; done
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**pico /usr/local/smokeping/bin/smokeping**&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**Default**_
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**New**_
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt; #!/usr/sepp/bin/perl-5.8.4 -w
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt; #!/usr/bin/perl -w
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/pack/rrdtool-1.0.49-to/lib/perl);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi/auto/RRDs);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;** or if a i386 system use**
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/pack/rrdtool-1.0.49-to/lib/perl);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/lib/perl5/vendor_perl/5.8.5/i386-linux-thread-multi/auto/RRDs);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(lib);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/local/smokeping/lib);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;use Smokeping 2.000008;
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;Smokeping::main("etc/config.dist");
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;Smokeping::main("/usr/local/smokeping/etc/config");
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;**pico /usr/local/smokeping/htdocs/smokeping.cgi**&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**Default**_
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**New**_
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;#!/usr/sepp/bin/speedy -w
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;#!/usr/bin/speedy -w
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/pack/rrdtool-1.0.33-to/lib/perl);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi/auto/RRDs);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;** or if a i386 system use**
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/pack/rrdtool-1.0.49-to/lib/perl);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/lib/perl5/vendor_perl/5.8.5/i386-linux-thread-multi/auto/RRDs);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/home/oetiker/data/projects/AADJ-smokeping/dist/lib);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/local/smokeping/lib);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;use CGI::Carp qw(fatalsToBrowser);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;use Smokeping 2.000008;
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;Smokeping::cgi("/home/oetiker/data/projects/AADJ-smokeping/dist/etc/config");
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;Smokeping::cgi("/usr/local/smokeping/etc/config");
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">cp /usr/local/smokeping/htdocs/smokeping.cgi /var/www/cgi-bin&lt;br /&gt;&lt;br /&gt;pico /usr/local/smokeping/etc/config
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**etc/config**&lt;br /&gt;*** General ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**Default**_
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**New**_
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;owner = Joe Random
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;owner = Tony Someone
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;contact = joe@some.place.xyz
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;contact = tony@somehhere
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;mailhost = smtp.mailhost.abc
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;mailhost = smtp.somewhere
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;sendmail = /usr/lib/sendmail
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;imgcache = /home/oetiker/public_html/.simg
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;imgcache = /var/www/html/smokeping/img
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;imgurl = ../.simg
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;imgurl = http://mail.somewhere.net/smokeping/img
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;datadir = /home/oetiker/data/projects/AADJ-smokeping/dist/var
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;datadir = /usr/local/smokeping/var
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;piddir = /home/oetiker/data/projects/AADJ-smokeping/dist/var
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;piddir = /usr/local/smokeping/var
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;cgiurl = http://people.ee.ethz.ch/~oetiker/smokeping/smokeping.cgi
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;cgiurl = http://mail.somewhere.net/cgi-bin/smokeping.cgi
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;smokemail = /home/oetiker/data/projects/AADJ-smokeping/dist/etc/smokemail.dist
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;smokemail = /usr/local/smokeping/etc/smokemail
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;tmail = /home/oetiker/data/projects/AADJ-smokeping/dist/etc/tmail.dist
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;tmail = /usr/local/smokeping/etc/tmail
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;syslogfacility = local0
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;*** Alerts ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;to = 
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;to = someone@your.place
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;from = smokealert@ 
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;from = smokealert@your.smoke.server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;*** Presentation ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;template = /home/oetiker/data/projects/AADJ-smokeping/dist/etc/basepage.html.dist
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;template = /usr/local/smokeping/etc/basepage.html
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;*** Probes ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;binary = /usr/sepp/bin/fping 
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;binary = /usr/sbin/fping
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;For some strange reason I had to make this change to /usr/sbin/fping&lt;br /&gt;chown apache /usr/sbin/fping&lt;br /&gt;&lt;br /&gt;*** Targets ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;+ World
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;menu = World Connectivity
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;title= World Connectivity
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;++ New Zealand
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;menu = New Zealand Servers
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;title = New Zealand Server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;+++ a Server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;menu = My Server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;title = My Server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;host = something.newskies.net
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;_ _&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">mkdir -p /var/www/html/smokeping/imgchown -R apache:apache /var/www/html/smokeping/img&lt;br /&gt;&lt;br /&gt;mkdir /usr/local/smokeping/var&lt;br /&gt;&lt;br /&gt;/usr/local/smokeping/bin/smokeping &amp;&lt;br /&gt;&lt;br /&gt;#ps aux | grep smokeroot      8384  0.0  2.5  14976  3272 ?        Ss   May24   0:01 /usr/local/smokeping/bin/smokeping [FPing]apache    8435  0.0  1.7  11100  2168 ?        Ss   May24   0:02 /usr/bin/speedy_backend -w /var/www/cgi-bin/smokeping.cgiapache    8436  0.3  3.9  12648  5036 ?        S    May24   2:04 /usr/bin/speedy_backend -w /var/www/cgi-bin/smokeping.cgi
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">vi /etc/rc.d/rc.local/usr/local/smokeping/bin/smokeping &amp;
</code>``</p>

<p>```
<br /></p>

<hr />

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-15T16:45:00+08:00"><a href="/2007/02/15/smokeping-chart/">February 15, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2007/02/15/smokeping-chart/" rel="bookmark" title="如何看懂Smokeping图表" itemprop="url">如何看懂Smokeping图表</a></h1>
    
  </header>
  <div class="entry-content">
    <p><img src="http://docs.google.com/File?id=dgt3878v_6z3dfsf" alt="" /></p>

<p><br /></p>

<p><br /></p>

<p><strong>_RTT(Round-Trip Time) _</strong></p>

<p><br /></p>

<p>简单说它是一个数据报在网络上两点中间往返一次的时间。是影响TCP性能和表征网络运行状况的重要参数。在网络中实时、准确地测量大量TCP设备和系统的RTT参数是网络管的重要环节之一。Smokeping就是这样的自动测试系统，它向目标设备和系统发送各种类型的测试数据包，测量、记录和展示RTT。</p>

<p><br /></p>

<p><br /></p>

<p><strong><em>Median RTT _****_中间数</em></strong></p>

<p><br /></p>

<p>它是中间数并不是平均值。Smokeping有多种类型的探针，探针在默认的设置下，每300秒向目标设备发送20测探测数据包。假如这20个数据包都返回的话，它就记录下了20个RTT，那么Median RTT就是第十个包的RTT；如果有5个包丢失的话，那么Median RTT就是第八个返回的包的RTT值。</p>

<p><br /></p>

<p><br /></p>

<p><strong><em>Avg RTT _****_评价值</em></strong></p>

<p><br /></p>

<p>它是每一个测试回合中所有RTT的算术评价值。</p>

<p><br /></p>

<p><br /></p>

<p><strong><em>Avg pkt loss</em></strong></p>

<p><br /></p>

<p>它是丢包率。</p>

<p><br /></p>

<p><br /></p>

<p>上图中测试的三个服务器，是用默认的FPing探针探测该服务器是否在线。Smokeping就装在OpenNMS上，可以看出它的RTT最小；奇怪的是它的丢包率却是最大。其它的，一个是美国的一个Web服务器，另一个是美国的Exchange邮件服务器。</p>

<p><br /></p>

<p><br /></p>

<p><img src="http://docs.google.com/File?id=dgt3878v_7fs5j82" alt="" /></p>

<p><br /></p>

<p><em>Last 3 Hours</em> 最近的3小时</p>

<p><br /></p>

<p>_Median Ping RTT （__506.2 ms avg）_中间数的平均值是5.6.2毫秒。如果是绿色的短横线，说明一个300秒的周期内所有的包都返回都有RTT的时间记录下来；如果是蓝色的短横线则说明有2个包丢失。</p>

<p><br /></p>

<p>_Packet Loss：_丢包率。从上图中我们看出全都是绿线，所以丢包率当然是0。</p>

<p><br /></p>

<p><em>Probe：__10 HTTP pings using echoping(1) every 300 seconds</em></p>

<p><br /></p>

<p>这张图是2007-1-11 12:00:05生成的。每一个绿色的短横线都是一个测试回合300秒内用echoping测试HTTP协议10次。绿色画出的是中间数的位置，一个回合中的其它值都在它附近被以灰度的形式被刻画；灰度的范围越小越好，灰色的范围像是烟雾一样笼罩在中间数附近。在中间数附近的烟越小越好，说明网络很平稳。RTT曲线的起伏还显示了网络的负载情况。</p>

<p><br /></p>

<p>点击这里看一个<a href="http://oss.oetiker.ch/smokeping-demo/?target=Customers.OP">网上的Demo</a></p>

<p><br /></p>

<p>update : 2008-1-18</p>

<p><br /></p>

<p>现在OpenNMS把smokeping集成了，你可以在OpenNMS中配置使用这个功能。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-01T22:51:00+08:00"><a href="/2007/02/01/opennms-discuss-nagios/">February 01, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2007/02/01/opennms-discuss-nagios/" rel="bookmark" title="翻译[opennms-discuss]邮件组里的一个讨论“Nagios转变”" itemprop="url">翻译[opennms-discuss]邮件组里的一个讨论“Nagios转变”</a></h1>
    
  </header>
  <div class="entry-content">
    <p>全文在＝》<a href="http://opennms.blogspot.com/2007/01/opennms.html">China OpenNMS</a><br /><a href="http://www.opennms.org/images/thumb/a/a3/Untitled.PNG/800px-Untitled.PNG"><img src="http://www.opennms.org/images/thumb/a/a3/Untitled.PNG/800px-Untitled.PNG" alt="" /></a> ——————————————–<br />我们已经在一个中等规模的企业实施了Nagios，用来监控一堆Cisco设备：交换机、路由器、防火墙，还有各种类型的服务器<br />（Windows,Linux和Unix）。对我们来说Nagios工作的非常好。我们现在看OpenNMS，是由于她有好看的用户界面和集成的服务资源<br />图。我喜欢Nagios是由于它的模块化。我能很容易的写一个插件来完成任何相关的事情。<br />我看到OpenNMS有NRPE和NSCLIENT的能力，但是有一些邮件和资源图不能彻底的采集到。有人正打算用OpenNMS作为Nagios或者其他<br />软件的替代品？我的答案是非常确定的，可是我也非常想听到一些关于OpenNMS的成功或者不很成功的故事。我正在测试环境中使用<br />的是OpenNMS1.3.2。<br /><br />Thanks!<br />Jon Christensen<br />——————————————–<br />我们也有一个和你类似的环境（路由器、交换机、各种服务器），目前有大约250个节点。<br />使用一个CentOS4的服务器，我们已经在上面安装了OpenNMS1.2.9，Syslog-NG，Swatch, Logtool(<a href="http://xjack.org/logtool/">http://xjack.org/logtool/</a>)，<br />在Windows上用Informant MIB，在几乎所有Linux/Unix上的是NET-SNMP，和它们一起的还有很多在客户端的自定义脚本；它们中的<br />大多数都使用send-event.pl或者和它无关。<br />应为所有这些，我们已经能完全替代了HP OpenView，虽然这是我的一面之词：这个架构是如此的模块化，以致于我们能做的比我们<br />使用OpenView的还要多，因种种理由。<br />Tim Selivanow<br />NOC Technician<br />EasyStreet Online Services, Inc.<br /><strong>__</strong><strong>__</strong><strong>__</strong><strong>__</strong><strong>__</strong><strong>__</strong>__<br />我的个人观点：<br />从Nagios转到OpenNMS上，其实不太容易。由于一下因素：<br />1）Nagios非常模块化，架构让人决定非常稳定可靠；它没有用到Java。<br />2）它的文档非常好，包括它官方的使用手册和用户上传的文档；从文档可以看出这个欧洲Base的项目非常踏实，风格严谨。开发ONMS的那帮老米显得比较自作聪明一点。<br />3）Nagios的论坛很好，有很多人可以互相帮助。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-01-28T21:31:00+08:00"><a href="/2007/01/28/cisco-network-configure/">January 28, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2007/01/28/cisco-network-configure/" rel="bookmark" title="Cisco网络设备如何配置SNMP代理" itemprop="url">Cisco网络设备如何配置SNMP代理</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Cisco是网络设备的老大，它的设备以稳定、成熟和高性能著称。很多用户都以自己的网络设备是99％的Cisco设备而自豪。<br /><br />对于任何一个网络设备如果没有配置SNMP代理，就不能被任何管理工具管理。下面的这个连接就是关于如何配置Cisco的SNMP服务：<a href="http://www.cisco.com/univercd/cc/td/doc/product/software/ios122/122cgcr/ffun_c/fcfprt3/fcf014.htm">http://www.cisco.com/univercd/cc/td/doc/product/software/ios122/122cgcr/ffun_c/fcfprt3/fcf014.htm</a><br /><br />可网管网络设备都内置有SNMP代理，很多网管不喜欢配置、enable SNMP服务的理由如下：不希望SNMP服务占用CPU、内存等资源；不信任SNMP服务的安全性；不认确认SNMP管理协议的价值。我个人认为：通过SNMP协议对网络设备管理的价值将远远高于它对设备造成的消耗和带来的风险。如果你同时面对和管理30台以上的网络设备，试想把它们的运行状况做一遍检查，您需要花的时间是多长。<br /><br />网络管理系统和网络设备的互动如下：<br /></p>

<p><br />	
  1. 网管系统主动定时读取MIB的值，存储和分析得到的数值，产生报表和报警事件。
<br />	
  2. 网管系统被动作为网络设备发送Trap的目的地，网管系统需要能翻译各种网络设备的Trap信息的意义。
<br /></p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="/page92/" class="btn">向前</a></li>
      
    

    
    
      <li><a href="">1</a></li>
    

    
    
      
      
      <li>…</li>
    

    
    
    

    
      
        
        
        
        <li><a href="/page91/">91</a></li>
      
    
      
        
        
        
        <li><a href="/page92/">92</a></li>
      
    

    
    

    
      <li><strong class="current-page">93</strong></li>
    

    
    
  </ul>
</div>



</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Martin Liu.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>



          

</body>
</html>