<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Martin's Blog</title>
<meta name="description" content="DevOps Coach & Cloud Expert">
<meta name="keywords" content="DevOps, Cloud, AWS, HCI, Nutanix, ITSM">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://martinliu.cn/images/path.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="DevOps Coach & Cloud Expert">
<meta name="twitter:creator" content="@zliu">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="DevOps Coach & Cloud Expert">
<meta property="og:url" content="http://martinliu.cn/page93/">
<meta property="og:site_name" content="Martin's Blog">

<meta name="google-site-verification" content="4oSwNTpy1vzip3_lt6XhkhMfImCD_DZlvL3K1k-M8qk">



<link rel="canonical" href="http://martinliu.cn/page93/">
<link href="http://martinliu.cn/feed.xml" type="application/atom+xml" rel="alternate" title="Martin's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://martinliu.cn/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://martinliu.cn/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://martinliu.cn/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://martinliu.cn/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://martinliu.cn/images/apple-touch-icon.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://martinliu.cn/images/apple-touch-icon-72x72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://martinliu.cn/images/apple-touch-icon-114x114.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://martinliu.cn/images/apple-touch-icon-144x144.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://martinliu.cn/">首页</a></li>
		<li>
			<a href="#">关于</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://martinliu.cn/images/avatar.jpg" alt="Martin Liu photo" class="author-photo">
					<h4>Martin Liu</h4>
					<p>DevOps Coach, Cloud Expert, Runner</p>
				</li>
				<li><a href="http://martinliu.cn/about/"><span class="btn btn-inverse">详情</span></a></li>
				<li>
					<a href="mailto:67120666@qq.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/zliu"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+MartinLiu-cn"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="https://linkedin.com/in/liuzheng"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="https://github.com/martinliu"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">文章</a>
			<ul class="dl-submenu">
				<li><a href="http://martinliu.cn/posts/">所有文章</a></li>
				<li><a href="http://martinliu.cn/tags/">所有分类</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="http://martinliu.cn/images/path.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Martin's Blog</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-28T17:14:00+08:00"><a href="http://martinliu.cn/2007/02/28/groundwork-rpm-error/">February 28, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2007/02/28/groundwork-rpm-error/" rel="bookmark" title="GroundWork rpm 安装会导致原系统的一些改变" itemprop="url">GroundWork rpm 安装会导致原系统的一些改变</a></h1>
    
  </header>
  <div class="entry-content">
    <p>GroundWork rpm安装对系统造成的改变有：<br /></p>

<p><br />	
  1. /etc/init.d/apache2 被改名为 apache2-save 导致，以前的Apache不能启动
<br />	
  2. 会在/etc/ld.so.conf中加入一行/usr/local/groundwork/lib ；不知道为什么这会导致一下系统的服务不能正常运行，如：PostgreSQL和snmpd。修复方法是注释掉这一行，然后运ldconfig命令。还不知道GroundWork在没有这一行的情况下有什么问题，注释掉之后好像它还是能正常运行的。
<br /></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-27T17:40:00+08:00"><a href="http://martinliu.cn/2007/02/27/groundwork-and-otrs/">February 27, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2007/02/27/groundwork-and-otrs/" rel="bookmark" title="GroundWork和OTRS系统的集成问题" itemprop="url">GroundWork和OTRS系统的集成问题</a></h1>
    
  </header>
  <div class="entry-content">
    <p>为了节省服务器，我们可能不得不把所有的监控以及相关的系统都安装到一个物理的机器上。如果是从原代码安装，我相信一定有很多选项能避免它们之间的冲突。假如你是后安装的GroundWork，它会更改系统默认的Apache2的配置，导致以前安装的所有的Web应用都不能用。<br /><br />在我的测试机上，先安装的OTRS，rpm安装，后安装的GroundWork，也是rpm安装。GroundWork安装之后，OTRS不能登陆。根据GroundWork的一些文档我做了，如下的修复步骤。<br />1）vi /etc/apache2/conf.d/otrs.conf  可以看到如下OTRS的web配置信息。<br /># –# added for OTRS (<a href="http://otrs.org/">http://otrs.org/</a>)# –# agent, admin and customer frontendScriptAlias /otrs/ “/opt/otrs/bin/cgi-bin/”Alias /otrs-web/ “/opt/otrs/var/httpd/htdocs/”# load all otrs modulesPerlrequire /opt/otrs/scripts/apache2-perl-startup.pl# Apache::Reload - Reload Perl Modules when Changed on DiskPerlModule Apache2::ReloadPerlInitHandler Apache2::ReloadPerlModule Apache2::RequestRec# set mod_perl2 options#  ErrorDocument 403 /otrs/customer.pl  ErrorDocument 403 /otrs/index.pl  SetHandler  perl-script  PerlResponseHandler ModPerl::Registry  Options +ExecCGI  PerlOptions +ParseHeaders  PerlOptions +SetupEnv  Order allow,deny  Allow from all# directory settings    AllowOverride None    Options +ExecCGI -Includes    Order allow,deny    Allow from all    AllowOverride None    Order allow,deny    Allow from all# MaxRequestsPerChild (so no apache child will be to big!)MaxRequestsPerChild 400<br />2）在GroundWork的主目录下其实也有一个Apache目录，它是原系统Apache的替代品。进入这个目录。<br />3）vi conf/httpd.conf 把otrs.conf文件中所有的内容都粘贴到这个文件中<br />4）GroundWork的apache好像没用用到perl模块，需要加入perl模块的支持；找到有很多“LoadModule”的地方加入下面这一行<br />LoadModule perl_module modules/mod_perl.so<br />5）Copy系统中的mod_perl.so文件到/usr/local/groundwork/apache2/modules<br />6）重新启动gwhttpd服务，也就是GroundWork系统的web服务<br />7）访问OTRS系统 <a href="http://ip/otrs/customer.pl">http://ip/otrs/customer.pl</a>   成功。<br /><br />下面需要做的是把OTRS的登陆也集成到GroundWork的单点登陆当中；如果在能把GroundWork的报警也自动的集成到OTRS那就是完美了，欲知后事如何，且听下回分解。：）<br /><br /></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-26T15:19:00+08:00"><a href="http://martinliu.cn/2007/02/26/otrsitsm-itil/">February 26, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2007/02/26/otrsitsm-itil/" rel="bookmark" title="OTRS::ITSM期待中的开源ITIL工具" itemprop="url">OTRS::ITSM期待中的开源ITIL工具</a></h1>
    
  </header>
  <div class="entry-content">
    <p><a href="http://www.otrs.com/otrs-web/images/Standard//name.jpg"><img src="http://www.otrs.com/otrs-web/images/Standard//name.jpg" alt="" /></a><br /><br />下个月就OTRS::ITSM 1.0 Beta1就发布了。OTRS是一不错的开源的帮助台程序。之所以说它还不错是由于以下几点：<br /></p>

<p><br />	
  1. 能支持平台非常广。操作系统有Linux、Unix还有Windows；数据库有MySQL，PostgreSQL，Oracle和SQL Server。这些东西里多一个东西，多于商业软件来讲测试的工作量起码就要乘二。
<br />	
  2. 安装和配置是相当的简单。我用的是SuSE Linux，是用RPM包安装，整个安装配置过程只需要10分钟。
<br />	
  3. 支持多语言，目前能支持的语言有10几种，包括简繁体中文。
<br />	
  4. 纯Web操作界面，Web界面可以定制；很好的邮件系统集成。有问题单生成接口，能够将第三方网络系统监控的故障告警变成问题单，再自动分配到相关的维护组。
<br /><br />从它的名字可以看出，他是一个“开放式问题单系统”或者说是“帮助台”“Help Desk” “工单跟踪系统”。一个单纯的问题单系统本身到没有什么特殊，不过能做到像OTRS这样像ITIL靠拢，试图做成一个遵从ITIL的开源IT服务管理解决方案的，可真的是不容易了。在看看其它的Help Desk的开源项目，都是在简单的在实现“问题管理”这个功能而已。<br /><br />OTRS现在最新的版本是otrs-2.1.5-01，等2.2正式发布后，OTRS::ITSM 1.0 就作为其中的一个模块也发布了。其实做到一个真真ITIL兼容的帮助台还真的不容易，我将期待它的CMDB，变更管理，以及各个流程之间的衔接。<br /><br />登陆这个OTRS的Demo系统来看看它到底怎么样，Check it out！！<br />Agent/Admin Interface:<br /><a href="http://demo.otrs.org/">http://demo.otrs.org/</a><br />Customer Interface:<br /><a href="http://customer.otrs.org/">http://customer.otrs.org/</a><br />FAQ Public Interface:<br /><a href="http://faq.otrs.org/">http://faq.otrs.org/</a><br />Email:<br /><a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#100;&#101;&#109;&#111;&#064;&#111;&#116;&#114;&#115;&#046;&#111;&#114;&#103;">&#100;&#101;&#109;&#111;&#064;&#111;&#116;&#114;&#115;&#046;&#111;&#114;&#103;</a><br />System:<br />Intel(R) Celeron(R) CPU (2 GHz) with 256 MB RAM and an IDE harddrive (current tickets ~55.000 - 2005-05-02)</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-25T11:09:00+08:00"><a href="http://martinliu.cn/2007/02/25/nagios-nagvis/">February 25, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2007/02/25/nagios-nagvis/" rel="bookmark" title="Nagios华丽的外衣NagVis" itemprop="url">Nagios华丽的外衣NagVis</a></h1>
    
  </header>
  <div class="entry-content">
    <p>如果你用过Nagios的话，它的2D、3D Map一定会给你留下一些印象；2D Map的确能比较试用一点，不过看上去还是挺难看的。NagVis就是看到了这一点，它力求能让各种状态信息表达的更炫，更好看；它可以说是Nagios的一个不错的插件，直接copy到Nagios的相关目录下，配置一下就行了。它的效果如下图所示：<img src="http://www.nagvis.org/lib/exe/fetch.php?w=250&amp;h=&amp;cache=cache&amp;media=nagvis_mail_service.png" alt="" /><br />说的在玄虚一点它可以是一个“业务流程管理视图”[CA Unicenter中的名词，OpenView里也有类似的概念]。其实就是把原子的监控对象：被监控节点和节点上的服务；和业务系统或者IT的逻辑关系相结合起来。例如：我的业务系统A的其中一个数据库服务器的数据库进程停了，这个可以影响到所有物理包含或者逻辑包含它的对象的状态。NagVis试图用漂亮的图标来表达这些状态和关系，是管理者能看的更加直观。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2007-02-17T00:38:00+08:00"><a href="http://martinliu.cn/2007/02/17/install-smokeping-via-yum/">February 17, 2007</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~4 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2007/02/17/install-smokeping-via-yum/" rel="bookmark" title="Install Smokeping via yum" itemprop="url">Install Smokeping via yum</a></h1>
    
  </header>
  <div class="entry-content">
    <p>From :<a href="http://www2.blogger.com/img/gl.link.gif"> http://ai.net.nz/horde/wicked/display.php?page=SmokePing</a><br /></p>

<h2 id="install-needed-packages">Install needed packages</h2>

<p><br /><strong>rrdtool</strong><br />
<code class="highlighter-rouge">
`yum install rrdtool
</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**perl-CGI-SpeedyCGI**&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">yum install perl-CGI-SpeedyCGI
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**fping**&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">yum install fping
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;** Or do them all together:**&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">yum install rrdtool perl-CGI-SpeedyCGI fping
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**Smokeping**&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">wget http://people.ee.ethz.ch/~oetiker/webtools/smokeping/pub/smokeping-2.0.9.tar.gztar xvzf smokeping-2.0.9.tar.gzmv smokeping-2.0.9 /usr/local/smokepingchown -R root:root /usr/local/smokeping&lt;br /&gt;&lt;br /&gt;cd /usr/local/smokeping/binfor foo in *.dist; do cp $foo </code>basename $foo .dist<code class="highlighter-rouge">; done&lt;br /&gt;&lt;br /&gt;cd  /usr/local/smokeping/etc/for foo in *.dist; do cp $foo </code>basename $foo .dist<code class="highlighter-rouge">; done&lt;br /&gt;&lt;br /&gt;cd /usr/local/smokeping/htdocsfor foo in *.dist; do cp $foo </code>basename $foo .dist<code class="highlighter-rouge">; done
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**pico /usr/local/smokeping/bin/smokeping**&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**Default**_
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**New**_
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt; #!/usr/sepp/bin/perl-5.8.4 -w
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt; #!/usr/bin/perl -w
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/pack/rrdtool-1.0.49-to/lib/perl);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi/auto/RRDs);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;** or if a i386 system use**
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/pack/rrdtool-1.0.49-to/lib/perl);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/lib/perl5/vendor_perl/5.8.5/i386-linux-thread-multi/auto/RRDs);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(lib);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/local/smokeping/lib);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;use Smokeping 2.000008;
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;Smokeping::main("etc/config.dist");
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;Smokeping::main("/usr/local/smokeping/etc/config");
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;**pico /usr/local/smokeping/htdocs/smokeping.cgi**&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**Default**_
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**New**_
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;#!/usr/sepp/bin/speedy -w
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;#!/usr/bin/speedy -w
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/pack/rrdtool-1.0.33-to/lib/perl);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi/auto/RRDs);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;** or if a i386 system use**
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/pack/rrdtool-1.0.49-to/lib/perl);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/lib/perl5/vendor_perl/5.8.5/i386-linux-thread-multi/auto/RRDs);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/home/oetiker/data/projects/AADJ-smokeping/dist/lib);
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;use lib qw(/usr/local/smokeping/lib);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;use CGI::Carp qw(fatalsToBrowser);
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;use Smokeping 2.000008;
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;Smokeping::cgi("/home/oetiker/data/projects/AADJ-smokeping/dist/etc/config");
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;Smokeping::cgi("/usr/local/smokeping/etc/config");
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">cp /usr/local/smokeping/htdocs/smokeping.cgi /var/www/cgi-bin&lt;br /&gt;&lt;br /&gt;pico /usr/local/smokeping/etc/config
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;**etc/config**&lt;br /&gt;*** General ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**Default**_
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_**New**_
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;owner = Joe Random
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;owner = Tony Someone
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;contact = joe@some.place.xyz
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;contact = tony@somehhere
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;mailhost = smtp.mailhost.abc
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;mailhost = smtp.somewhere
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;sendmail = /usr/lib/sendmail
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;imgcache = /home/oetiker/public_html/.simg
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;imgcache = /var/www/html/smokeping/img
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;imgurl = ../.simg
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;imgurl = http://mail.somewhere.net/smokeping/img
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;datadir = /home/oetiker/data/projects/AADJ-smokeping/dist/var
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;datadir = /usr/local/smokeping/var
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;piddir = /home/oetiker/data/projects/AADJ-smokeping/dist/var
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;piddir = /usr/local/smokeping/var
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;cgiurl = http://people.ee.ethz.ch/~oetiker/smokeping/smokeping.cgi
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;cgiurl = http://mail.somewhere.net/cgi-bin/smokeping.cgi
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;smokemail = /home/oetiker/data/projects/AADJ-smokeping/dist/etc/smokemail.dist
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;smokemail = /usr/local/smokeping/etc/smokemail
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;tmail = /home/oetiker/data/projects/AADJ-smokeping/dist/etc/tmail.dist
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;tmail = /usr/local/smokeping/etc/tmail
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td colspan="2" class="table-cell" &gt;syslogfacility = local0
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;*** Alerts ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;to = 
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;to = someone@your.place
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;from = smokealert@ 
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;from = smokealert@your.smoke.server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;*** Presentation ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;template = /home/oetiker/data/projects/AADJ-smokeping/dist/etc/basepage.html.dist
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;template = /usr/local/smokeping/etc/basepage.html
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;*** Probes ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;binary = /usr/sepp/bin/fping 
&lt;/td&gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;binary = /usr/sbin/fping
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;For some strange reason I had to make this change to /usr/sbin/fping&lt;br /&gt;chown apache /usr/sbin/fping&lt;br /&gt;&lt;br /&gt;*** Targets ***&lt;br /&gt;&lt;table class="table" &gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;+ World
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;menu = World Connectivity
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;title= World Connectivity
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;++ New Zealand
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;menu = New Zealand Servers
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;title = New Zealand Server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;_ _
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;+++ a Server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;menu = My Server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;title = My Server
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;tr &gt;&lt;br /&gt;
&lt;td class="table-cell" &gt;host = something.newskies.net
&lt;/td&gt;&lt;br /&gt;&lt;/tr&gt;&lt;br /&gt;&lt;/table&gt;&lt;br /&gt;_ _&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">mkdir -p /var/www/html/smokeping/imgchown -R apache:apache /var/www/html/smokeping/img&lt;br /&gt;&lt;br /&gt;mkdir /usr/local/smokeping/var&lt;br /&gt;&lt;br /&gt;/usr/local/smokeping/bin/smokeping &amp;&lt;br /&gt;&lt;br /&gt;#ps aux | grep smokeroot      8384  0.0  2.5  14976  3272 ?        Ss   May24   0:01 /usr/local/smokeping/bin/smokeping [FPing]apache    8435  0.0  1.7  11100  2168 ?        Ss   May24   0:02 /usr/bin/speedy_backend -w /var/www/cgi-bin/smokeping.cgiapache    8436  0.3  3.9  12648  5036 ?        S    May24   2:04 /usr/bin/speedy_backend -w /var/www/cgi-bin/smokeping.cgi
</code>``</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;br /&gt;
</code></pre>
</div>
<p><code class="highlighter-rouge">vi /etc/rc.d/rc.local/usr/local/smokeping/bin/smokeping &amp;
</code>``</p>

<p>```
<br /></p>

<hr />

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="http://martinliu.cn/page92/" class="btn">向前</a></li>
      
    

    
    
      <li><a href="http://martinliu.cn">1</a></li>
    

    
    
      
      
      <li>…</li>
    

    
    
    

    
      
        
        
        
        <li><a href="http://martinliu.cn/page91/">91</a></li>
      
    
      
        
        
        
        <li><a href="http://martinliu.cn/page92/">92</a></li>
      
    
      
        <li><strong class="current-page">93</strong></li>
      
    

    
    

    
      <li><a href="http://martinliu.cn/page94/">94</a></li>
    

    
    
      <li><a href="http://martinliu.cn/page94/" class="btn">下一页</a></li>
    
  </ul>
</div>



</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Martin Liu.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://martinliu.cn/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://martinliu.cn/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-749876-6', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>


          

</body>
</html>