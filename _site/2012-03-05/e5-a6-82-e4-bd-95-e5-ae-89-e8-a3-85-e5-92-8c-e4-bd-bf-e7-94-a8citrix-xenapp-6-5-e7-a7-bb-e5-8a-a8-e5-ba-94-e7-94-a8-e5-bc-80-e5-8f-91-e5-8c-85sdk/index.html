<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>如何安装和使用Citrix XenApp 6.5 移动应用开发包SDK</title>

  <meta name="author" content="Martin Liu" />

  

  <link rel="alternate" type="application/rss+xml" title="Martin's Blog - DevOps Coach & Cloud Expert!" href="/feed.xml" />

  
    
      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" />
    
  

  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
  

  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

  

  

  

    <!-- Facebook OpenGraph tags -->
  

  
  <meta property="og:title" content="如何安装和使用Citrix XenApp 6.5 移动应用开发包SDK" />
  

   
  <meta property="og:description" content="继续转帖自学，可惜我没有空自己搭这个开发环境。不过我最想开发的一个应用是：一个记录我做DDMD的应用，在每个DDMD现场我都拍一张照片，记录一下现场的人，记录一下做Demo的坐标。这样我可以看看，我一个月下来做了多少次DDMD。 From [http://www.jasonconger.com/](http://www.jasonconger.com/) In this post, we will go over the installation steps of the Citrix XenApp 6.5 Mobile Application SDK, explorer what is added to the XenApp 6.5 server during installation, and compile one of the samples given in the SDK. Now that we have setting up an Android...">
  


  <meta property="og:type" content="website" />

  
  <meta property="og:url" content="https://martinliu.github.io/2012-03-05/e5-a6-82-e4-bd-95-e5-ae-89-e8-a3-85-e5-92-8c-e4-bd-bf-e7-94-a8citrix-xenapp-6-5-e7-a7-bb-e5-8a-a8-e5-ba-94-e7-94-a8-e5-bc-80-e5-8f-91-e5-8c-85sdk/" />
  <link rel="canonical" href="https://martinliu.github.io/2012-03-05/e5-a6-82-e4-bd-95-e5-ae-89-e8-a3-85-e5-92-8c-e4-bd-bf-e7-94-a8citrix-xenapp-6-5-e7-a7-bb-e5-8a-a8-e5-ba-94-e7-94-a8-e5-bc-80-e5-8f-91-e5-8c-85sdk/" />
  

  
  <meta property="og:image" content="https://martinliu.github.io/img/head-200-200.jpg" />
  
  

  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@zliu" />
  <meta name="twitter:creator" content="@zliu" />

  
  <meta name="twitter:title" content="如何安装和使用Citrix XenApp 6.5 移动应用开发包SDK" />
  

  
  <meta name="twitter:description" content="继续转帖自学，可惜我没有空自己搭这个开发环境。不过我最想开发的一个应用是：一个记录我做DDMD的应用，在每个DDMD现场我都拍一张照片，记录一下现场的人，记录一下做Demo的坐标。这样我可以看看，我一个月下来做了多少次DDMD。 From [http://www.jasonconger.com/](http://www.jasonconger.com/) In this post, we will go over the installation steps of the Citrix XenApp 6.5 Mobile Application SDK, explorer what is added to the XenApp 6.5 server during installation, and compile one of the samples given in the SDK. Now that we have setting up an Android...">
  

  
  <meta name="twitter:image" content="https://martinliu.github.io/img/head-200-200.jpg" />
  

</head>


  <body>
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="https://martinliu.github.io">Martin's Blog</a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            
            





<a href="/aboutme">About Me</a>

          </li>
        
        
        
          <li class="navlinks-container">
            <a class="navlinks-parent" href="javascript:void(0)">Resources</a>
            <div class="navlinks-children">
              
                
                  
            





<a href="http://www.aws-faq.com/">AWS-FAQ.com</a>

                
              
                
                  
            





<a href="http://devopscoach.org">devopscoach.org</a>

                
              
            </div>
          </li>
        
        
      </ul>
    </div>

	
	<div class="avatar-container">
	  <div class="avatar-img-border">
	    <a href="https://martinliu.github.io ">
	      <img class="avatar-img" src="/img/head-200-200.jpg" />
		</a>
	  </div>
	</div>
	

  </div>
</nav>


    <!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>如何安装和使用Citrix XenApp 6.5 移动应用开发包SDK</h1>
		  
		  
		  
		  <span class="post-meta">Posted on March 5, 2012</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>




<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post">
        <p>继续转帖自学，可惜我没有空自己搭这个开发环境。不过我最想开发的一个应用是：一个记录我做DDMD的应用，在每个DDMD现场我都拍一张照片，记录一下现场的人，记录一下做Demo的坐标。这样我可以看看，我一个月下来做了多少次DDMD。</p>

<blockquote>From [http://www.jasonconger.com/](http://www.jasonconger.com/)</blockquote>

<p>In this post, we will go over the installation steps of the Citrix XenApp 6.5 Mobile Application SDK, explorer what is added to the XenApp 6.5 server during installation, and compile one of the samples given in the SDK.</p>

<p>Now that we have <a href="http://www.jasonconger.com/post/setting-up-an-android-emulator-for-use-with-citrix-xenapp-mobile-application-sdk/">setting up an Android emulator</a>out of the way, let’s take a look at installing the Citrix XenApp 6.5 Mobile Application SDK and what the install does to a XenApp 6.5 server.There are 2 parts that you need in order to develop applications that utilize mobile capabilities on a XenApp 6.5 server:</p>

<ol>
  <li>
    <p>The <a href="http://citrix.com/English/ss/downloads/details.asp?downloadId=2317077&amp;productId=186">XenApp 6.5 Mobility Pack</a> – this is the part that goes on the XenApp 6.5 server.</p>
  </li>
  <li>
    <p>The <a href="http://citrix.com/English/ss/downloads/details.asp?downloadId=2317078&amp;productId=186">Citrix XenApp 6.5 Mobile Application SDK</a> – this is the part you use to develop mobile applications. </p>
  </li>
</ol>

<h2 id="xenapp-65-mobility-pack">XenApp 6.5 Mobility Pack</h2>

<p>When you install the Mobility Pack, 2 new services are added to your XenApp server:</p>

<ol>
  <li>
    <p>Citrix Location and Sensor Virtual Channel Service – this service enables a server side application to leverage Location and Sensor capabilities.</p>
  </li>
  <li>
    <p>Citrix Mobile Receiver Virtual Channel Service – this service enables a server side application to use mobile device capabilities.</p>
  </li>
</ol>

<p>These 2 virtual channels are kept separate for security reasons.  Maybe you want to have mobile device capabilities available, but you cannot enable GPS features due to security compliance.  Location services are disabled on the Citrix Receiver by default. The way to enable the location capabilities is via Citrix policies.  In order to use these policies, you will need to install the Citrix Group Policy Client-Side Extensions.  These extensions are part of the XenApp Mobility Pack .zip file.</p>

<p>This policy is located under ICA\Client Sensors\Location. Notice that by default, location is disabled.</p>

<p> [singlepic id=1337 w=320 h=240 float=none]</p>

<h2 id="citrix-xenapp-65-mobile-application-sdk">Citrix XenApp 6.5 Mobile Application SDK</h2>

<p>So, the <a href="http://community.citrix.com/display/xa/XenApp+6.5+Mobile+Application+SDK+-+Requirements">requirements for the Citrix XenApp 6.5 Mobile Application SDK</a> state that you need Windows 7 64 bit (and the MSI is even named XenApp65MobileApplicationSdk64), but it installs to ..\Program Files (x86)\Citrix\MobilitySDK.  I tried installing the SDK on a Windows 7 32 bit system as well and it worked, so I’m not sure if something absolutely will not work on 32 bit.</p>

<p>I’m using Visual Studio for the examples.  It appears that Visual Studio Express (free) will work as well, but I haven’t tested that myself.</p>

<p>Anyway, the documentation that comes with the SDK is pretty comprehensive so I’m not going to rehash it here.  Since I will be showing you some of the examples using .Net, I do want to point out that you will need to run one of the following commands on your development machine in order for things to work:</p>

<table>
<tbody>
<tr>

<td>`Regsvr32 cmpcom.dll
```

</td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>

<td>`Regsvr32 cmpcom64.dll
```

</td>
</tr>
</tbody>
</table>

<p>Notice that there is a 32 bit or a 64 bit DLL register. So again, not sure why Windows 7 64bit is a requirement for development. Anyway, make sure you run the appropriate command above as administrator, otherwise you may receive an error stating “The module was loaded but the call to DllRegisterServer failed with error code 0×80070005” (which is a permissions error).</p>

<h2 id="compiling-examples">Compiling Examples</h2>

<p>The final part of this article will focus on compiling and using the examples that come with the SDK.  The one I’m going to point out here is the picker example.  This example uses the native device’s UI to display a list of options.  The example is actually a console application that has no graphics, so it is actually using the local device’s display mechanisms rather than trying to do some trickery on the XenApp server side.  So, here we go…</p>

<ol>
  <li>
    <p>Browse to \Program Files (x86)\Citrix\MobilitySDK\samples<br />ative\showpicker</p>
  </li>
  <li>
    <p>Double click on showpicker.sln to open the solution in Visual Studio</p>
  </li>
  <li>
    <p>Build the solution by pressing F6</p>
  </li>
  <li>
    <p>This will create an executable in \Program Files (x86)\Citrix\MobilitySDK\samples<br />ative\Win32\Debug\showpicker.exe</p>
  </li>
  <li>
    <p>Copy this showpicker.exe to your XenApp 6.5 server (I copied mine to \Program Files (x86)\Mobility\picker\showpicker.exe)</p>
  </li>
  <li>
    <p>Publish the application via Citrix AppCenter</p>
  </li>
  <li>
    <p>Launch the published application using an Android device (or <a href="http://www.jasonconger.com/post/setting-up-an-android-emulator-for-use-with-citrix-xenapp-mobile-application-sdk/">emulator</a>) with the latest Citrix Receiver installed.</p>
  </li>
</ol>

<p>NOTE: You may receive an error message that states “The program can’t start because MSVCR100D.dll is missing from your computer…”  Here’s why – the solution was built in debug mode.  Thus, debug DLL’s (notice the “D” in the DLL name) need to be on the XenApp 6.5 server.  Here is what you can do:</p>

<p>Copy:</p>

<ul>
  <li>
    <p>From:** \Program Files (x86)\Microsoft Visual Studio 10.0\VC\redist\Debug_NonRedist\x86\Microsoft.VC100.DebugCRT\msvcr100d.dll** on your development machine</p>
  </li>
  <li>
    <p>To:** \Windows\SysWOW64\msvcr100d.dll** on your XenApp 6.5 server</p>
  </li>
</ul>

<p>You could technically build the solution in Release mode instead of Debug mode and be okay, but to perform remote debugging, you will want to have the debug DLL on your remote machine.  Speaking of debugging, here are 2 great write-ups on how to debug the mobile applications:</p>

<ul>
  <li>
    <p>Jeff Muir - <a href="http://citrixblogger.org/2011/12/19/debugging-xama-sdk-applications/">Debugging XAMA SDK Applications</a></p>
  </li>
  <li>
    <p>Andrew Borzycki - <a href="http://forums.citrix.com/thread.jspa?threadID=300244&amp;tstart=0">Debugging applications remotely with Visual Studio</a></p>
  </li>
</ul>

<h2 id="the-result">The Result</h2>

<p>Here is what the end result looks like.</p>

<p>[singlepic id=1338 w=320 h=240 float=none]</p>

<p>Once you pick one of the colors, the console application will give you feedback on the chosen item.  When the appropriate receiver is available for iOS, then the native iOS selector would be shown with no code changes on the developer’s part.  That is pretty cool!</p>

<p>In the next article on this topic, I will show you how to use mobile device orientation to change what is displayed to an end user.  The example will include data and graphics.  Stay tuned…</p>


      </article>

      
        <div class="blog-tags">
          Tags:
          
            6.5, Android, Citrix, Mobility, SDK, XenApp
          
        </div>
      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">

  <!--- Share on Twitter -->
  
    <a href="https://twitter.com/intent/tweet?text=%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8Citrix+XenApp+6.5+%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E5%8C%85SDK+https://martinliu.github.io/2012-03-05/e5-a6-82-e4-bd-95-e5-ae-89-e8-a3-85-e5-92-8c-e4-bd-bf-e7-94-a8citrix-xenapp-6-5-e7-a7-bb-e5-8a-a8-e5-ba-94-e7-94-a8-e5-bc-80-e5-8f-91-e5-8c-85sdk/"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fa fa-fw fa-twitter" aria-hidden="true"></span>
    </a>
  

  <!--- Share on Facebook -->
  
    <a href="https://www.facebook.com/sharer/sharer.php?u=https://martinliu.github.io/2012-03-05/e5-a6-82-e4-bd-95-e5-ae-89-e8-a3-85-e5-92-8c-e4-bd-bf-e7-94-a8citrix-xenapp-6-5-e7-a7-bb-e5-8a-a8-e5-ba-94-e7-94-a8-e5-bc-80-e5-8f-91-e5-8c-85sdk/"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fa fa-fw fa-facebook" aria-hidden="true"></span>
    </a>
  

  <!--- Share on Google Plus -->
  

  <!--- Share on LinkedIn -->
  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://martinliu.github.io/2012-03-05/e5-a6-82-e4-bd-95-e5-ae-89-e8-a3-85-e5-92-8c-e4-bd-bf-e7-94-a8citrix-xenapp-6-5-e7-a7-bb-e5-8a-a8-e5-ba-94-e7-94-a8-e5-bc-80-e5-8f-91-e5-8c-85sdk/"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fa fa-fw fa-linkedin" aria-hidden="true"></span>
    </a>
  

</section>



      

      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="/2012-03-05/e5-a6-82-e4-bd-95-e9-85-8d-e7-bd-aeandroid-emulator-e7-94-a8-e4-ba-8e-e8-b0-83-e8-af-95citrix-xenapp-6-5-e7-a7-bb-e5-8a-a8-e5-ba-94-e7-94-a8sdk/" data-toggle="tooltip" data-placement="top" title="如何配置Android Emulator用于调试Citrix XenApp 6.5移动应用SDK">&larr; Previous Post</a>
        </li>
        
        
        <li class="next">
          <a href="/2012-03-05/xenapp-6-5-mobility-pack-and-mobile-app-sdk-v1/" data-toggle="tooltip" data-placement="top" title="XenApp 6.5 Mobility Pack and Mobile App SDK v1 ">Next Post &rarr;</a>
        </li>
        
      </ul>

      
        <div class="disqus-comments">
          

        </div>
      
    </div>
  </div>
</div>

    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="https://github.com/martinliu" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
		  
	  
      
          <li>
            <a href="https://plus.google.com/+MartinLiu-cn" title="Google+">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
		  
          <li>
            <a href="mailto:67120666@qq.com" title="Email me">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
		  
		  
		  
      
      
      
      
      
		  
        </ul>
        <p class="copyright text-muted">
		  Martin Liu
		  &nbsp;&bull;&nbsp;
		  2017

		  
		  &nbsp;&bull;&nbsp;
		  <a href="https://martinliu.github.io">martinliu.cn</a>
		  
	    </p>
	        <!-- Please don't remove this, keep my open source work credited :) -->
		<p class="theme-by text-muted">
		
		</p>
      </div>
    </div>
  </div>
</footer>

  
    






  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script>
      	if (typeof jQuery == 'undefined') {
      	  document.write('<script src="/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
      	}
      </script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/bootstrap.min.js"></script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/main.js"></script>
    
  




  
  </body>
</html>
