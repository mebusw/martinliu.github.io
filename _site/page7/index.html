<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Martin's Blog</title>
<meta name="description" content="DevOps Coach & Cloud Expert">
<meta name="keywords" content="DevOps, Cloud, AWS, HCI, Nutanix, ITSM">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/path.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="DevOps Coach & Cloud Expert">
<meta name="twitter:creator" content="@zliu">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="DevOps Coach & Cloud Expert">
<meta property="og:url" content="/page7/">
<meta property="og:site_name" content="Martin's Blog">





<link rel="canonical" href="/page7/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Martin's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">首页</a></li>
		<li>
			<a href="#">关于</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="Martin Liu photo" class="author-photo">
					<h4>Martin Liu</h4>
					<p>DevOps Coach, Cloud Expert, Runner</p>
				</li>
				<li><a href="/about/"><span class="btn btn-inverse">详情</span></a></li>
				<li>
					<a href="mailto:67120666@qq.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/zliu"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+MartinLiu-cn"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="https://linkedin.com/in/liuzheng"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="https://github.com/martinliu"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">文章</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">所有文章</a></li>
				<li><a href="/tags/">所有分类</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="http://www.aws-faq.com" target="_blank">AWS-FAQ</a></li>
	  
	    
	    <li><a href="http://devopscoach.org" target="_blank">DevOps教练</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="/images/path.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Martin's Blog</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-07-01T14:52:00+08:00"><a href="/2015/07/01/red-hat-summit-e4-b9-8bpaul-e7-9a-84-e5-bc-80-e6-ba-90-e9-80-bb-e8-be-91-e6-80-9d-e7-bb-b4/">July 01, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2015/07/01/red-hat-summit-e4-b9-8bpaul-e7-9a-84-e5-bc-80-e6-ba-90-e9-80-bb-e8-be-91-e6-80-9d-e7-bb-b4/" rel="bookmark" title="Red Hat Summit之Paul的开源逻辑思维" itemprop="url">Red Hat Summit之Paul的开源逻辑思维</a></h1>
    
  </header>
  <div class="entry-content">
    <p>应用为王，操作系统是心跳。从整个行业的角度，而不只是操作系统和某种工具的角度看，行业已经发生了重大的变化。下面是一些例证。</p>

<ol>
  <li>
    <p>VMWare几年前说操作系统已死，可是最近却发布了Linux操作系统的容器技术的产品线。</p>
  </li>
  <li>
    <p>微软也把它的一些技术开源了，并且在这些方面取得了一些它们认为可喜的进展。</p>
  </li>
</ol>

<p>IDC的调查显示，数据中心的操作系统目前是两个主要选择：Linux和Windows。以上说明了：开源不再是非主流，而进入了数据中心主流技术，企业现在开发的应用将不得不在两种操作系统中做出选择。</p>

<p>[caption id=”attachment_53819” align=”aligncenter” width=”800”]<a href="http://martinliu.cn/paul%e7%9a%84%e5%bc%80%e6%ba%90%e9%80%bb%e8%be%91%e6%80%9d%e7%bb%b4/cormier_keynote_800px/"><img src="http://cdn1.martinliu.cn/wp-content/uploads/2015/07/cormier_keynote_800px.jpg" alt="cormier_keynote_800px" /></a> Keynote 笔记[/caption]</p>

<p>从这个角度出发，Red Hat的使命才刚过开始，它中在用Linux和相关开源技术来变革整个企业数据中心的技术堆栈；从基础架构一直到应用开发。</p>

<p>为何开源技术当今如此之火热？开源技术正在解决和处理现实社会中那些最复杂的业务问题。为什么会这样？驱动因素是什么？是动态变化的企业业务需求。</p>

<p>开源技术最擅长的是快速地创新，这成为了企业技术创新和业务变革的动力，IT也逐渐因此从成本中心转变为价值和创新中心。</p>

<p>开源不仅仅只是看到源代码，更重要的：它是自由开放的平台，是分享的平台，它萌生了持续不断的创新，一个创新基于另外一个创新之上，一环接一环地扩散开来，根本停不下来。 这意味着技术问题能够被更快、更好地解决；而不是丢给私有软件技术厂商们各自独自解决，企业最等来消费他们的产品。</p>

<p>Linux是计算供给层，毫无疑问云计算和软件定义存储都基于它。它不能叫做一个Linux社区，而是一组相关的社区项目协作在一起共同创新，这样才带来了企业可以使用的高性能稳定的操作系统；这样Red Hat才有可能给企业带来企业级Linux操作系统。</p>

<p>KVM是计算的虚拟化抽象层，VMWare最先进入这一企业市场，它试图用封闭的管理层和锁定的模式来控制这个市场，从而控制客户。Red Hat的使命是：为企业提供了Linux操作系统和至上的开放虚拟化技术；企业可以在这个层面消费开源开放虚拟化技术，并做出备份的方案选择。</p>

<p>没有Linux和开放虚拟化云计算就不存在。公有云提供商使用这些技术构建了共有云服务。可是企业不想让自己的业务运行在防火墙之外，因此OpenStack 项目应运而生。它让企业构建私有云成为可能。Red Hat在OpenStack上面所有的贡献都100%的提交到社区，成为主流代码的一部分；从而OpenStack能够运行在Red Hat Linux和KVM之上，这使得Red Hat巨大的Linux生态系统的价值服务与OpenStack领域；企业能够借此放心地在OpenStack构建的私有云，并运行企业重要的业务。</p>

<p><img src="http://cdn1.martinliu.cn/wp-content/uploads/2015/07/paul-keynote.jpg" alt="paul-keynote" />在开源的开发框架里，开发人员可以有更多、更新的开发语言、开发工具、库和社区的支持，这使他们能更快地解决业务问题。这些框架首先被广泛应用于互联网行业公司。Red Hat基于JBoss社区为企业提供了企业级的应用服务器、集成工具、规则引擎和丰富的开发语言。让企业级应用能像互联网公司一样地使用开放应用所需的开发框架和开发平台。相比私有技术公司用了四十多年达到目前的程度，开源领域的快速创新用十几年就做到了，发展速度比私有软件快很多。</p>

<p>现在看到了基础架构和开发框架都极大地受到了开源技术的影响、冲击和变革。运维和开发之间亟待出现一种融合技术，来改善目前的互为孤岛的现状。这种联系将使开源技术为他们带来最大的共同价值。</p>

<p>容器技术实际上在操作系统中存在了很多年了，只是最近才被引入开源领域；它的出现将确实会改善孤岛问题，为开发人员解决了应用在各种混合的计算和存储平台之间的可移植性、一致性和敏捷性等问题。</p>

<p>开发和运维之间的割裂还导致了业务创新的迟钝，这个问题已经持续存在很多很多年了。因此Red Hat发布了Red Hat Atomic Enterprise Platform。让企业应用可以安全地在各种形式的计算平台上一致地运行。Red Hat 发布了OpenShift v3 ，它是一些列容器的自动化调度和部署管理工具集合，并包含全套的开放应用开发框架平台。它能帮助企业基于容器技术发展出新一代的混合应用。</p>

<p>为何企业IT技术会有这些变革？为何这些变革会发生？其实还是企业不得不快速地响应业务的变化，企业不得不使用IT技术来创造出更多的价值，应用开发不得不跟上需求变化的脚步，基础架构的运作和运维再也不允许我们手工地安装一台服务器，频繁地去手动更改网口跳线。企业必须面对和适应动态的业务变化，不光要从开发层面，同时从运维层面。</p>

<p>企业需要构建和重写无状态的业务应用，并使用软件定义存储来解决传统存储的空间不能无限扩容的问题。Gluster和Ceph在这方面已经日臻成熟，并或将去替换私有的传统存储技术。</p>

<p><a href="http://martinliu.cn/paul%e7%9a%84%e5%bc%80%e6%ba%90%e9%80%bb%e8%be%91%e6%80%9d%e7%bb%b4/devops-in-practice/"><img src="http://cdn1.martinliu.cn/wp-content/uploads/2015/07/DevOps-in-practice-1024x574.png" alt="DevOps-in-practice" /></a></p>

<p>企业应用DevOps是一种趋势，它不是一个理论，而是一种实践。Red Hat的全线企业级开源技术平台已经做好了准备，企业现在就可以开始DevOps实践之旅。</p>

<p>开源和闭源之战将不可逆转地持续下去，Red Hat将持续守护开源阵营。私有软件技术不愿意看到逐渐开放的变化，他们不希望开放，不愿意去分享；Pual坚信开放不仅仅是看到代码而已，而是与之共生，是开放的软件开发流程，是基于开放代码上的不断创新活动。这是一场宏大的战役，开源逐渐开始在一些战斗中取胜，待到明年此时，或将看到开源是如何在企业IT基础架构上全面获胜的。</p>

<p>本演讲的官方Blog报道：<a href="http://summitblog.redhat.com/2015/06/24/paul-cormier-announces-new-products-and-technologies-at-red-hat-summit/">http://summitblog.redhat.com/2015/06/24/paul-cormier-announces-new-products-and-technologies-at-red-hat-summit/</a></p>

<p>下面是演讲实况视频。</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-06-21T16:15:46+08:00"><a href="/2015/06/21/boston-running-1-charles-river/">June 21, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2015/06/21/boston-running-1-charles-river/" rel="bookmark" title="Boston Running #1 Charles River" itemprop="url">Boston Running #1 Charles River</a></h1>
    
  </header>
  <div class="entry-content">
    <p>时差如期而至，现在时本地时间清晨3：40，我还是一点睡意也没用，百无聊赖中计划一下明天的跑步路线。根据Boston的Garmin的热力地图，我观察了一下Clarles河附近的跑步路线，看着很不错。计划明天早晨跑右侧的这一部分。如下图所示。
<a href="http://cdn1.martinliu.cn/wp-content/uploads/2015/06/boston-charles-river-right-side.jpg"><img src="http://cdn1.martinliu.cn/wp-content/uploads/2015/06/boston-charles-river-right-side-1024x559.jpg" alt="boston-charles-river-right-side" /></a></p>

<p>这部分是Charles河入海口的这个部分。从酒店出门大概的路线如下：</p>

<ol>
  <li>
    <p>从酒店 右拐 到 Sidney St + Massachusetts Ave， 在右拐一直到河边</p>
  </li>
  <li>
    <p>到河边的桥头，右拐顺河边向东跑，一直跑到头</p>
  </li>
  <li>
    <p>在Longfellow bridge 桥下，顺着Edwin H Land Blvd穿过该桥</p>
  </li>
  <li>
    <p>延河边来到 Museum of science 前，左拐，绕Lechmere Canal Park，来到科学博物馆门前的路</p>
  </li>
  <li>
    <p>经过Charles大坝这条路，到河的南岸</p>
  </li>
  <li>
    <p>在State Police 警察局门口右拐到河边，眼查尔斯河滨大道一直往西跑</p>
  </li>
  <li>
    <p>经过Boston University Bridge，继续向前跑</p>
  </li>
  <li>
    <p>经过 Western Ave Bridge 继续向前跑</p>
  </li>
  <li>
    <p>到了John W. Weeks Bridge 上桥过河，到达河对岸</p>
  </li>
  <li>
    <p>进入 Dewolfe St， 到Arrow St 右拐</p>
  </li>
  <li>
    <p>跑回 Massachusetts Ave, 沿着街道一直跑回去</p>
  </li>
</ol>

<p>跑步的实际路线图和数据贴图如下。</p>

<p><a href="http://martinliu.cn/boston-running-1-charles-river/psb-2/"><img src="http://cdn1.martinliu.cn/wp-content/uploads/2015/06/psb.jpeg" alt="psb" /></a></p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-06-18T22:14:51+08:00"><a href="/2015/06/18/icinga2-e7-9b-91-e6-8e-a7-e5-b7-a5-e5-85-b7-e8-af-84-e6-b5-8b/">June 18, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2015/06/18/icinga2-e7-9b-91-e6-8e-a7-e5-b7-a5-e5-85-b7-e8-af-84-e6-b5-8b/" rel="bookmark" title="icinga2 监控工具评测" itemprop="url">icinga2 监控工具评测</a></h1>
    
  </header>
  <div class="entry-content">
    <p>本来想写一个安装手册，可是安装完成之后发现其实非常简单，最后就把题目改为评测了。本文也不是全面的评测文章，关于它的能力和功能，待后续了解的深入了在继续更新本文。</p>

<h2 id="icinga2-">icinga2 架构分析</h2>

<p>请下载和查看这个icinga2官方的文档：[su_button url=”http://pan.baidu.com/s/1qW3JkJE” target=”blank” style=”stroked” background=”#cccc00” size=”6” icon=”icon: cubes”]下载点这里[/su_button]</p>

<p><a href="http://cdn1.martinliu.cn/wp-content/uploads/2015/06/Selection_001.png"><img src="http://cdn1.martinliu.cn/wp-content/uploads/2015/06/Selection_001-1024x542.png" alt="Selection_001" /></a></p>

<p>为什么用icinga，原因如下：</p>

<p>[su_list icon=”icon: eye”]</p>

<ul>
  <li>
    <p>Nagios的架构不能扩展</p>
  </li>
  <li>
    <p>增加模块是比较困难的</p>
  </li>
  <li>
    <p>不是群集和分布式监控架构</p>
  </li>
  <li>
    <p>安全性相对糟糕</p>
  </li>
  <li>
    <p>配置功能有限</p>
  </li>
</ul>

<p>[/su_list]</p>

<h2 id="section">安装配置</h2>

<p>icinga2的安装可以说非常简洁，基本上配置好yum源，几条命令就装万了，而且就可以用了。只是在web界面选择和配置上稍微有点麻烦，它目前有三个可以安装配置的界面：classic, icinga-web, icinga-web2； classic太老了，不具有极其强烈的怀旧情节，就别碰了。建议生产环境中还是使用icinga-web；web2太新了，很多集成的项目的都还没有做好，还比较初级，功能不完善。</p>

<p><del>待续</del>~~</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-06-17T00:25:34+08:00"><a href="/2015/06/17/e5-9c-a8-rhel-7-e4-b8-8a-e5-ae-89-e8-a3-85-foreman-1-8/">June 17, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2015/06/17/e5-9c-a8-rhel-7-e4-b8-8a-e5-ae-89-e8-a3-85-foreman-1-8/" rel="bookmark" title="在 RHEL 7 上安装 Foreman 1.8" itemprop="url">在 RHEL 7 上安装 Foreman 1.8</a></h1>
    
  </header>
  <div class="entry-content">
    <p>首先安装RHEL7使用光盘安装最小化系统，安装完成之后，关闭防火墙和SELinux（为了测试方便），配置主机名为FQDN格式，如 fm1.8.xenlab.com； 加本机的主机名解析到/etc/hosts 文集中。之后注册到RHN。</p>

<p>[bash]</p>

<p>[root@fm18 ~]# subscription-manager register
[root@fm18 ~]# subscription-manager attach  –auto
[root@fm18 ~]# subscription-manager repos –disable=”*”
[root@fm18 ~]# subscription-manager repos –enable=rhel-7-server-optional-rpms
[root@fm18 ~]# subscription-manager repos –enable=rhel-server-rhscl-7-rpms
[root@fm18 ~]# subscription-manager repos –enable=rhel-7-server-rpms
[root@fm18 ~]# rpm -ivh http://yum.puppetlabs.com/puppetlabs-release-el-7.noarch.rpm
[root@fm18 ~]# yum -y install http://yum.theforeman.org/releases/1.8/el7/x86_64/foreman-release.rpm
[root@fm18 ~]# yum -y install http://ftp.sjtu.edu.cn/fedora/epel/epel-release-latest-7.noarch.rpm
[root@fm18 ~]# yum clean all
[root@fm18 ~]# yum makecache
[root@fm18 ~]# yum update -y
[root@fm18 ~]# reboot
[root@fm18 ~]# yum install foreman-installer</p>

<p>[/bash]</p>

<p>安装foreman-installer可能会出现的错误是ruby包依赖的问题，导致这个问题的原因可能有：网速太满导致的yum meta-data 失效，国外的epel源下载失败等。解决方法是：使用国内较快的epel源，在安装foreman-installer前，清除yum 缓存，重新建立yum原数据缓存。</p>

<p>我的测试机的yum 源配置如下：</p>

<p>[bash]</p>

<p>[root@fm18 yum.repos.d]# yum repolist
Loaded plugins: fastestmirror, product-id, subscription-manager
Loading mirror speeds from cached hostfile
* epel: mirrors.neusoft.edu.cn
repo id repo name status
epel/x86_64 Extra Packages for Enterprise Linux 7 - x86_64 8,076
foreman/x86_64 Foreman 1.8 379
foreman-plugins/x86_64 Foreman plugins 1.8 199
puppetlabs-deps/x86_64 Puppet Labs Dependencies El 7 - x86_64 17
puppetlabs-products/x86_64 Puppet Labs Products El 7 - x86_64 175
rhel-7-server-optional-rpms/7Server/x86_64 Red Hat Enterprise Linux 7 Server - Optional (RPMs) 5,832
rhel-7-server-rpms/7Server/x86_64 Red Hat Enterprise Linux 7 Server (RPMs) 7,036
rhel-server-rhscl-7-rpms/7Server/x86_64 Red Hat Software Collections RPMs for Red Hat Enterprise Linux 7 Server 3,596
repolist: 25,310
[root@fm18 yum.repos.d]# cat /etc/yum.repos.d/epel.repo
[epel]
name=Extra Packages for Enterprise Linux 7 - $basearch
baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch
#mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-7&amp;arch=$basearch
failovermethod=priority
enabled=1
gpgcheck=1
gpgkey=https://fedoraproject.org/static/352C64E5.txt</p>

<p>mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-7&amp;arch=$basearch
[epel-debuginfo]
name=Extra Packages for Enterprise Linux 7 - $basearch - Debug
baseurl=http://ftp.sjtu.edu.cn/fedora/epel/7/$basearch/debug
#mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-debug-7&amp;arch=$basearch
failovermethod=priority
enabled=0
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7
gpgcheck=1</p>

<p>[epel-source]
name=Extra Packages for Enterprise Linux 7 - $basearch - Source
baseurl=http://ftp.sjtu.edu.cn/fedora/epel/7/SRPMS
#mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-source-7&amp;arch=$basearch
failovermethod=priority
enabled=0
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7
gpgcheck=1
[root@fm18 yum.repos.d]#</p>

<p>[/bash]</p>

<p>以上应该是安装foreman-installer宝过的攻略了。接下来该安装foreman的各个组建和插件了。使用 foreman-installer -i 发现是个不错的方法。还可以顺便了解一下当前foreman版本的各个主要功能项，如下所示：</p>

<p>[bash]</p>

<p>[root@fm18 yum.repos.d]# foreman-installer -i
Welcome to the Foreman installer!
———————————</p>

<p>This wizard will gather all required information. You can change any parameter
to your needs.</p>

<p>Ready to start? (y/n) y</p>

<p>Main Config Menu
1. [✓] Configure foreman
2. [✓] Configure foreman_cli
3. [✗] Configure foreman_compute_ec2
4. [✗] Configure foreman_compute_gce
5. [✓] Configure foreman_compute_libvirt
6. [✗] Configure foreman_compute_openstack
7. [✓] Configure foreman_compute_ovirt
8. [✗] Configure foreman_compute_rackspace
9. [✗] Configure foreman_compute_vmware
10. [✓] Configure foreman_plugin_bootdisk
11. [✗] Configure foreman_plugin_chef
12. [✓] Configure foreman_plugin_default_hostgroup
13. [✗] Configure foreman_plugin_digitalocean
14. [✓] Configure foreman_plugin_discovery
15. [✗] Configure foreman_plugin_docker
16. [✗] Configure foreman_plugin_hooks
17. [✗] Configure foreman_plugin_openscap
18. [✗] Configure foreman_plugin_ovirt_provision
19. [✗] Configure foreman_plugin_puppetdb
20. [✗] Configure foreman_plugin_salt
21. [✓] Configure foreman_plugin_setup
22. [✓] Configure foreman_plugin_tasks
23. [✗] Configure foreman_plugin_templates
24. [✓] Configure foreman_proxy
25. [✗] Configure foreman_proxy_plugin_abrt
26. [✗] Configure foreman_proxy_plugin_chef
27. [✗] Configure foreman_proxy_plugin_openscap
28. [✗] Configure foreman_proxy_plugin_pulp
29. [✗] Configure foreman_proxy_plugin_salt
30. [✓] Configure puppet
31. Display current config
32. Save and run
33. Cancel run without Saving
Choose an option from the menu…</p>

<p>[root@fm18 yum.repos.d]# puppet agent –test
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for fm18.xenlab.com
Info: Applying configuration version ‘1434466089’
Notice: Finished catalog run in 0.21 seconds
[root@fm18 yum.repos.d]#</p>

<p>[/bash]</p>

<p>输入数字即可进入每个选项打开和关闭这个功能和服务，这个是对foreman的功能配置管理，不光是首次安装可以使用，以后的服务器功能变更也可以这么作，这个对我这样不感冒answerfile的人来说甚好。如果是首次安装，可以什么都不选择，来一个说装就装的默认安装也不错。安装完全成功之后，就会显示登陆网址和 管理与密码等信息。用初始的admin密码登陆后，修改密码，你的全新的foreman就安装成功了。注意在，运行foreman-installer过程中是需要联网的，安装过程会按照需求，下载所需要的组建包，例如数据库和web服务器等等其它必须的包。登陆后界面如下：</p>

<p>[gallery size=”medium” link=”file” ids=”53781,53782,53783”]</p>

<p>接下来需要作配置自动化的测试了，我做了一个录像，通过一个简单的示例来说明，如何在foreman中测试pupput module。过程中我使用一个最简单的 /etc/motd 文件的配置的类。演示的内容涉及：</p>

<p>[su_list icon=”icon: check-square”]</p>

<ul>
  <li>
    <p>安装puppet module 到生产环境中</p>
  </li>
  <li>
    <p>导入并且定制puppet 类的功能</p>
  </li>
  <li>
    <p>测试和验证puppet 类是否工作正常</p>
  </li>
</ul>

<p>[/su_list]</p>

<p>视频下载：[su_button url=”http://pan.baidu.com/s/1ntpBXfN” target=”blank” style=”stroked” background=”#cccccc” size=”6” icon=”icon: cloud-download”]下载在这里[/su_button]</p>

<p>本文参考文档：</p>

<ul>
  <li>
    <p><a href="http://theforeman.org/manuals/1.8/index.htm">http://theforeman.org/manuals/1.8/index.htm</a></p>
  </li>
  <li>
    <p><a href="http://itgeeker.net/centos-7-epel-china-mirror-repository/">http://itgeeker.net/centos-7-epel-china-mirror-repository/</a></p>
  </li>
</ul>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-06-13T22:27:17+08:00"><a href="/2015/06/13/e7-94-a8-powertop-e7-bb-99-e7-ac-94-e8-ae-b0-e6-9c-ac-e7-94-b5-e8-84-91-e7-9c-81-e7-94-b5/">June 13, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2015/06/13/e7-94-a8-powertop-e7-bb-99-e7-ac-94-e8-ae-b0-e6-9c-ac-e7-94-b5-e8-84-91-e7-9c-81-e7-94-b5/" rel="bookmark" title="用 powertop 给笔记本电脑省电" itemprop="url">用 powertop 给笔记本电脑省电</a></h1>
    
  </header>
  <div class="entry-content">
    <p>如何安装：</p>

<p>[bash]</p>

<p>sudo dnf install powertop</p>

<p>sudo powertop</p>

<p>sudo systemctl start powertop.service</p>

<p>sudo systemctl enable powertop.service</p>

<p>[/bash]</p>

<p>[gallery link=”file” ids=”53761,53762,53763,53764,53765”]</p>

<p>使用Tab和shift + tab 键在以上屏幕直接切换。</p>

<p>我发现我主要使用 Tunables 这个tab来找出可以安全关闭的设备服务。以上测试是在我目前的 Fedora 22 on Lenovo T440s上作的。</p>

<p>本文参考：<a href="http://fedoramagazine.org/saving-laptop-power-with-powertop/">http://fedoramagazine.org/saving-laptop-power-with-powertop/</a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="/page6/" class="btn">向前</a></li>
      
    

    
    
      <li><a href="">1</a></li>
    

    
    
      
      
      <li>…</li>
    

    
    
    

    
      
        
        
        
        <li><a href="/page5/">5</a></li>
      
    
      
        
        
        
        <li><a href="/page6/">6</a></li>
      
    
      
        <li><strong class="current-page">7</strong></li>
      
    
      
        
        
        
        <li><a href="/page8/">8</a></li>
      
    
      
        
        
        
        <li><a href="/page9/">9</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="/page93/">93</a></li>
    

    
    
      <li><a href="/page8/" class="btn">下一页</a></li>
    
  </ul>
</div>



</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Martin Liu.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>



          

</body>
</html>