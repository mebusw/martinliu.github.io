<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>CloudStack Quick install guide (中文精编版) &#8211; Martin's Blog</title>
<meta name="description" content="DevOps Coach & Cloud Expert">
<meta name="keywords" content="Citrix, cloudstack, xenserver">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/">
<meta name="twitter:title" content="CloudStack Quick install guide (中文精编版)">
<meta name="twitter:description" content="DevOps Coach & Cloud Expert">
<meta name="twitter:creator" content="@zliu">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="CloudStack Quick install guide (中文精编版)">
<meta property="og:description" content="DevOps Coach & Cloud Expert">
<meta property="og:url" content="/2012/06/29/cloudstack-quick-install-guide/">
<meta property="og:site_name" content="Martin's Blog">





<link rel="canonical" href="/2012/06/29/cloudstack-quick-install-guide/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Martin's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144.png">



</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">首页</a></li>
		<li>
			<a href="#">关于</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="Martin Liu photo" class="author-photo">
					<h4>Martin Liu</h4>
					<p>DevOps Coach, Cloud Expert, Runner</p>
				</li>
				<li><a href="/about/"><span class="btn btn-inverse">详情</span></a></li>
				<li>
					<a href="mailto:67120666@qq.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/zliu"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+MartinLiu-cn"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="https://linkedin.com/in/liuzheng"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="https://github.com/martinliu"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">文章</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">所有文章</a></li>
				<li><a href="/tags/">所有分类</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="http://www.aws-faq.com" target="_blank">AWS-FAQ</a></li>
	  
	    
	    <li><a href="http://devopscoach.org" target="_blank">DevOps教练</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="/2012/06/29/cloudstack-quick-install-guide/" rel="bookmark" title="CloudStack Quick install guide (中文精编版)">CloudStack Quick install guide (中文精编版)</a></h1>
        
        <h2><span class="entry-date date published"><time datetime="2012-06-29T23:18:04+08:00">June 29, 2012</time></span></h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
Reading time ~5 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>This post has a English version,<a href="http://martinliu.cn/2012/08/cloudstack-quick-install-guide-english-mini-version.html"> click here</a>
测试环境描述：
两台硬件配置足够高的笔记本电脑，链接在一个交换机上，都能够上网。</p>

<p><a href="http://martinliu.cn/2012/06/cloudstack-quick-install-guide.html/img_0841"><img src="http://cdn1.martinliu.cn/wp-content/uploads/2012/06/IMG_0841.jpg" alt="" /></a></p>

<p>安装过程：第一步安装RHEL6管理服务器操作系统；第二部安装CloudStack软件；第三步安装Xenserver；第四步：初始化配置CloudStack</p>

<p>安装RHEL6 64bit操作系统的注意事项：</p>

<ol>
  <li>
    <p>使用全域名作为主机名，例如 ：cloudstack.xen.cn； 安装完后 hostname –fqdn 查一下</p>
  </li>
  <li>
    <p>使用ntp服务器 0~3.xenserver.pool.ntp.org</p>
  </li>
  <li>
    <p>选择桌面类型安装，同时安装Mysql server/client</p>
  </li>
  <li>
    <p>配置为静态ip地址，网关和DNS还要保证装完之后，能够上互联网</p>
  </li>
  <li>
    <p>关闭防火墙，这样可以省去安装文档中iptables相关的端口设置，加速安装过程</p>
  </li>
</ol>

<p>安装Cladestack的时候需要同时安装系统的几个依赖的软件包，所以要把本地的DVD设置为yum的源挂载DVD到/media目录，之前必须安装几个依赖的包
[shell]
mount /dev/cdrom /media
yum install deltarpm-3.5-0.5.20090913git.el6.x86_64.rpm
yum install python-deltarpm-3.5-0.5.20090913git.el6.x86_64.rpm
yum install createrepo-0.9.8-4.el6.noarch.rpm
[/shell]</p>

<p>首先生成一个yum源的文件，如下所示：
[shell]
[root@cloudstack 1] cat /etc/yum.repos.d/rhel6.repo
[rhel6]
name=rhel6
baseurl=file:///media/
enabled=1
gpgcheck=0
[/shell]</p>

<p>用 yum list 检查一下dvd源是否正常。</p>

<p>现在既可以进入CloudStack的安装过程了，下载并解压缩安装包
[shell]
tar xzvf CloudStack-oss-3.0.2-1-rhel6.2.tar.gz
./install #运行安装命令
选择 m
选择 y
[/shell]</p>

<p>安装脚本使用yum安装所有的文件，它能够查出系统上还差那些包，依赖的包会通过yum一次性安装，安装过程如下所示：</p>

<p>[shell]
tomcat6-lib                          noarch          6.0.24-33.el6               rhel6               2.9 M
tomcat6-servlet-2.5-api              noarch          6.0.24-33.el6               rhel6                93 k
ws-commons-util                      noarch          1.0.1-13.el6                rhel6                37 k
wsdl4j                               noarch          1.5.2-7.8.el6               rhel6               157 k
xml-commons-apis                     x86_64          1.3.04-3.6.el6              rhel6               439 k
xml-commons-resolver                 x86_64          1.1-4.18.el6                rhel6               145 k</p>

<h1 id="transaction-summary">Transaction Summary</h1>
<p>Install      38 Package(s)</p>

<p>Total download size: 91 M
Installed size: 172 M
Is this ok [y/N]: y
Downloading Packages:
————————————————————————————————————
Total                                                                       115 MB/s |  91 MB     00:00
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
Installing : libgcj-4.4.6-3.el6.x86_64                                                               1/38
Installing : jakarta-commons-logging-1.0.4-10.el6.noarch                                             2/38
Installing : cloud-deps-3.0.2-1.el6.x86_64                                                           3/38
Installing : cloud-utils-3.0.2-1.el6.x86_64                                                          4/38</p>

<p>Installed:
cloud-client.x86_64 0:3.0.2-1.el6</p>

<p>Dependency Installed:
axis.noarch 0:1.2.1-7.2.el6                            bcel.x86_64 0:5.2-7.2.el6
classpathx-jaf.x86_64 0:1.0-15.4.el6                   classpathx-mail.noarch 0:1.1.1-9.4.el6
cloud-agent-scripts.x86_64 0:3.0.2-1.el6               cloud-client-ui.x86_64 0:3.0.2-1.el6
cloud-core.x86_64 0:3.0.2-1.el6                        cloud-deps.x86_64 0:3.0.2-1.el6
cloud-python.x86_64 0:3.0.2-1.el6                      cloud-server.x86_64 0:3.0.2-1.el6
cloud-setup.x86_64 0:3.0.2-1.el6                       cloud-utils.x86_64 0:3.0.2-1.el6
ecj.x86_64 1:3.4.2-6.el6                               ipmitool.x86_64 0:1.8.11-12.el6
jakarta-commons-collections.noarch 0:3.2.1-3.4.el6     jakarta-commons-daemon.x86_64 1:1.0.1-8.9.el6
jakarta-commons-dbcp.noarch 0:1.2.1-13.8.el6           jakarta-commons-discovery.noarch 1:0.4-5.4.el6
jakarta-commons-httpclient.x86_64 1:3.1-0.6.el6        jakarta-commons-logging.noarch 0:1.0.4-10.el6
jakarta-commons-pool.x86_64 0:1.3-12.7.el6             java-1.5.0-gcj.x86_64 0:1.5.0.0-29.1.el6
java_cup.x86_64 1:0.10k-5.el6                          libgcj.x86_64 0:4.4.6-3.el6
log4j.x86_64 0:1.2.14-6.4.el6                          mx4j.noarch 1:3.0.1-9.13.el6
regexp.x86_64 0:1.5-4.4.el6                            sinjdoc.x86_64 0:0.5-9.1.el6
tomcat6.noarch 0:6.0.24-33.el6                         tomcat6-el-2.1-api.noarch 0:6.0.24-33.el6
tomcat6-jsp-2.1-api.noarch 0:6.0.24-33.el6             tomcat6-lib.noarch 0:6.0.24-33.el6
tomcat6-servlet-2.5-api.noarch 0:6.0.24-33.el6         ws-commons-util.noarch 0:1.0.1-13.el6
wsdl4j.noarch 0:1.5.2-7.8.el6                          xml-commons-apis.x86_64 0:1.3.04-3.6.el6
xml-commons-resolver.x86_64 0:1.1-4.18.el6</p>

<p>Complete!
Done
[/shell]
以上的命令表示管理服务器组件正常安装成功。</p>

<p>下面需要安装数据库部分，再次运行安装脚本：
[shell]
./install
&gt; 选择 d
Installing the MySQL server…
Loaded plugins: product-id, refresh-packagekit, security, subscription-manager
Updating certificate-based repositories.
cloud-temp                                                                          | 2.6 kB     00:00 …
rhel6                                                                               | 4.0 kB     00:00 …
Setting up Install Process
Package mysql-server-5.1.52-1.el6_0.1.x86_64 already installed and latest version
Nothing to do
Starting the MySQL server…
初始化 MySQL 数据库： Installing MySQL system tables…
OK
Filling help tables…
OK</p>

<p>To start mysqld at boot time you have to copy
support-files/mysql.server to the right place for your system</p>

<p>PLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !
To do so, start the server, then issue the following commands:</p>

<p>/usr/bin/mysqladmin -u root password ‘new-password’
/usr/bin/mysqladmin -u root -h cloudstack.xen.cn password ‘new-password’</p>

<p>Alternatively you can run:
/usr/bin/mysql_secure_installation</p>

<p>which will also give you the option of removing the test
databases and anonymous user created by default.  This is
strongly recommended for production servers.</p>

<p>See the manual for more instructions.</p>

<p>You can start the MySQL daemon with:
cd /usr ; /usr/bin/mysqld_safe &amp;</p>

<p>You can test the MySQL daemon with mysql-test-run.pl
cd /usr/mysql-test ; perl mysql-test-run.pl</p>

<p>Please report any problems with the /usr/bin/mysqlbug script!</p>

<p>[确定]
正在启动 mysqld：                                          [确定]
Done
[/shell]</p>

<p>以上表明数据库部分安装成功，还需要把mysql的几个参数调整一下，编辑配置文件，实例文件如下</p>

<p>[shell]
cat /etc/my.cfn
[mysqld]
datadir=/var/lib/mysql
#加入的部分
innodb_rollback_on_timeout=1
innodb_lock_wait_timeout=600
max_connections=350
log-bin=mysql-bin
binlog-format = ‘ROW’
#加入的部分
socket=/var/lib/mysql/mysql.sock
user=mysql
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0</p>

<p>[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
[/shell]
重启动mysql让参数生效：
[shell]
[root@cloudstack CloudStack-oss-3.0.2-1-rhel6.2] service mysqld restart
停止 mysqld：                                              [确定]
正在启动 mysqld：                                          [确定]
[/shell]
给mysql的root用户设置密码
[shell]
[root@cloudstack home] mysql -u root
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.1.52-log Source distribution</p>

<p>Copyright (c) 2000, 2010, Oracle and/or its affiliates. All rights reserved.
This software comes with ABSOLUTELY NO WARRANTY. This is free software,
and you are welcome to modify and redistribute it under the GPL v2 license</p>

<p>Type ‘help;’ or ‘\h’ for help. Type ‘\c’ to clear the current input statement.</p>

<p>mysql&gt; set password = password(‘citrix’);
Query OK, 0 rows affected (0.00 sec)</p>

<p>mysql&gt; exit
Bye
[/shell]
初始化Cloudtack管理服务器的数据库
[shell]
[root@cloudstack home] cloud-setup-databases cloud:citrix@localhost –deploy-as=root:citrix
Mysql user name:cloud                                                           [ OK ]
Mysql user password:citrix                                                      [ OK ]
Mysql server ip:localhost                                                       [ OK ]
Mysql server port:3306                                                          [ OK ]
Mysql root user name:root                                                       [ OK ]
Mysql root user password:citrix                                                 [ OK ]
Checking Cloud database files …                                               [ OK ]
Checking local machine hostname …                                             [ OK ]
Checking SELinux setup …                                                      [ OK ]
Detected local IP address as 192.168.10.15, will use as cluster management server node IP[ OK ]
Preparing /etc/cloud/management/db.properties                                   [ OK ]
Applying /usr/share/cloud/setup/create-database.sql                             [ OK ]
Applying /usr/share/cloud/setup/create-schema.sql                               [ OK ]
Applying /usr/share/cloud/setup/create-database-premium.sql                     [ OK ]
Applying /usr/share/cloud/setup/create-schema-premium.sql                       [ OK ]
Applying /usr/share/cloud/setup/server-setup.sql                                [ OK ]
Applying /usr/share/cloud/setup/templates.sql                                   [ OK ]
Applying /usr/share/cloud/setup/create-index-fk.sql                             [ OK ]
Processing encryption …                                                       [ OK ]
Finalizing setup …                                                            [ OK ]</p>

<p>CloudStack has successfully initialized database, you can check your database configuration in /etc/cloud/management/db.properties
[/shell]
数据库初始化完毕，下面需要运行管理服务器初始化命令。
[shell]
[root@cloudstack home] cloud-setup-management
Starting to configure CloudStack Management Server:
Configure sudoers …         [OK]
Configure Firewall …        [OK]
Configure CloudStack Management Server …[OK]
CloudStack Management Server setup is Done!
[/shell]</p>

<p>以上管理节点的部分安装完毕。安装文档的需求，管理服务器需要挂一个16TB大小的NFS存储，如果环境中没有这个大的存储建议，使用足够大的硬盘做一个NFS的share用来测试，下面是相关的命令
[shell]
[root@cloudstack ~] service rpcbind start
[root@cloudstack ~] service nfs start
启动 NFS 服务：                                            [确定]
关掉 NFS 配额：                                            [确定]
启动 NFS 守护进程：                                        [确定]
启动 NFS mountd：                                          [确定]
[root@cloudstack ~] chkconfig nfs on
[root@cloudstack ~] chkconfig rpcbind on
[root@cloudstack home] cd /home
[root@cloudstack home] mkdir primary
[root@cloudstack home] mkdir secondary
[root@cloudstack home] vi /etc/exports   #编辑nfs路径
[root@cloudstack home] cat /etc/exports  #实例如下
/home    *(rw,async,no_root_squash)
[root@cloudstack home] exportfs -a    #检查nfs共享目录的结果
[root@cloudstack home] exportfs
/home             <world>
[/shell]</world></p>

<p>编辑 /etc/sysconfig/nfs 配置文件，保证它包含一下这些参数
[shell]
MOUNTD_NFS_V3=”yes”
LOCKD_TCPPORT=32803
LOCKD_UDPPORT=32769
MOUNTD_PORT=892
RQUOTAD_PORT=875
STATD_PORT=662
STATD_OUTGOING_PORT=2020
[/shell]
重新启动nfs服务，在一个已经安装好的XenServer上做一下测试。保证Xenerver能够正常读写这个目录，相关命令如下：
[shell]
[root@xs root]mkdir test
[root@xs root]mount 192.168.10.15:/home  /root/test
[root@xs root]ls test
[root@xs root]touch testfile   #这个文件应该在两边的都能ls到
[/shell]</p>

<p>在保证管理服务器能上网的情况下，运行如下命令，为管理服务器从网上下载相关的模板文件
[shell]
/usr/lib64/cloud/agent/scripts/storage/secondary/cloud-install-sys-tmplt -m /home/secondary -u http://download.cloud.com/templates/acton/acton-systemvm-02062012.vhd.bz2 -h xenserver -F
正在解析主机 download.cloud.com… 207.171.189.81
正在连接 download.cloud.com|207.171.189.81|:80… 已连接。
已发出 HTTP 请求，正在等待回应… 200 OK
长度：140616708 (134M) [binary/octet-stream]</p>

<p>99% [===================================================================================================&gt; ] 140,512,160  149K/s eta(英国中部时
99% [===================================================================================================&gt; ] 140,551,600  145K/s eta(英国中部时
100%[====================================================================================================&gt;] 140,616,708  155K/s   in 11m 27s
2012-06-29 20:03:57 (200 KB/s) - 已保存 “/usr/lib64/cloud/agent/scripts/storage/secondary/a5fc3577-c5e7-49ff-8fbf-ed88dc8aaff5.vhd” [140616708/140616708])</p>

<p>Uncompressing to /usr/lib64/cloud/agent/scripts/storage/secondary/a5fc3577-c5e7-49ff-8fbf-ed88dc8aaff5.vhd.tmp (type bz2)…could take a long time
Moving to /home/secondary/template/tmpl/1/1///a5fc3577-c5e7-49ff-8fbf-ed88dc8aaff5.vhd…could take a while
Successfully installed system VM template  to /home/secondary/template/tmpl/1/1/
[/shell]
到下载的路径下面ls一下，确认下载成功。</p>

<p>下面选择一台配置好的服务器来安装XenServer，这台服务器最好也能上网，和管理节点的服务器在一个网段里。
安装注意事项：</p>

<ol>
  <li>
    <p>下载最新版的6.0.201安装盘，最新版的cloudstack必须要这个版本以上的xenserver</p>
  </li>
  <li>
    <p>网络配置为能上网的设置，方便下载东西</p>
  </li>
  <li>
    <p>用ntp服务器 0~3.xenserver.pool.ntp.org</p>
  </li>
</ol>

<p>安装后从管理服务器上ssh到xenServer命令行，需要下载cloudstack相关的安装包。执行如下命令：
[shell]
[root@cloudstack .ssh]# ssh 192.168.10.10   #这是xenserver的地址
The authenticity of host ‘192.168.10.10 (192.168.10.10)’ can’t be established.
RSA key fingerprint is ae:5b:8a:dc:2a:c8:6c:56:f6:7a:48:02:e6:db:78:dd.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added ‘192.168.10.10’ (RSA) to the list of known hosts.
root@192.168.10.10’s password:
Type “xsconsole” for access to the management console.
[root@hpxs1 ~] pwd
/root
[root@hpxs1 ~] mkdir tmp
[root@hpxs1 ~] cd tmp
[root@hpxs1 tmp] wget http://download.cloud.com/releases/3.0.1/XS-6.0.2/xenserver-cloud-supp.tgz
–2012-06-29 21:55:08–  http://download.cloud.com/releases/3.0.1/XS-6.0.2/xenserver-cloud-supp.tgz
Resolving download.cloud.com… 207.171.185.201
Connecting to download.cloud.com|207.171.185.201|:80… connected.
HTTP request sent, awaiting response… 200 OK
Length: 3342001 (3.2M) [application/x-tar]
Saving to: `xenserver-cloud-supp.tgz’</p>

<p>100%[================================================================&gt;] 3,342,001    217K/s   in 15s</p>

<p>2012-06-29 21:55:49 (214 KB/s) - `xenserver-cloud-supp.tgz’ saved [3342001/3342001]
[root@hpxs1 tmp] tar xf xenserver-cloud-supp.tgz
[root@hpxs1 tmp] ls
example-answerfile   post-install.sh  src                       xenserver-cloud-supp.tgz
packages.cloud-supp  README           xenserver-cloud-supp.iso
[root@hpxs1 tmp] xe-install-supplemental-pack xenserver-cloud-supp.iso
Installing ‘XenServer Cloud Supp Pack’…</p>

<p>Preparing…                ########################################### [100%]
1:iptables               ########################################### [ 10%]
2:iptables-ipv6          ########################################### [ 20%]
3:arptables              ########################################### [ 30%]
4:iptables-debuginfo     ########################################### [ 40%]
5:ipset-modules-kdump-2.6########################################### [ 50%]
6:ipset-modules-xen-2.6.3########################################### [ 60%]
7:csp-pack               ########################################### [ 70%]
8:ebtables               ########################################### [ 80%]
9:ipset                  ########################################### [ 90%]
10:iptables-devel         ########################################### [100%]
Update sysctl to enable <em>tables checking
Memory required by all installed packages: 894697472
Truncating to static-max: 789839872
Setting VM.memory_target: 789839872
Pack installation successful.
[root@hpxs1 tmp]
[root@hpxs1 tmp] xe-switch-network-backend bridge
Cleaning up old ifcfg files
Remove… ifcfg-xenbr0
Disabling openvswitch daemon
Configure system for bridge networking
You *MUST</em> now reboot your system
[root@hpxs1 tmp] reboot
[/shell]
测试xenserver是否能够正常链接管理服务器的nfs目录
[shell]
[root@hpxs1 ~] mkdir nfs
[root@hpxs1 ~] mount 192.168.10.15:/home/primary /root/nfs
[root@hpxs1 ~] cd nfs
[root@hpxs1 nfs] touch testfile
[root@hpxs1 nfs] ls
testfile   #到管理服务器端查看是否有该文件存在
[/shell]
下面进入图形界面的初始化屏幕。进入之后的配置向导如下图集所示。
[nggallery id=14]</p>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="/tags/#Citrix" title="Pages tagged Citrix" class="tag"><span class="term">Citrix</span></a><a href="/tags/#cloudstack" title="Pages tagged cloudstack" class="tag"><span class="term">cloudstack</span></a><a href="/tags/#xenserver" title="Pages tagged xenserver" class="tag"><span class="term">xenserver</span></a></span>
        
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=/2012/06/29/cloudstack-quick-install-guide/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=/2012/06/29/cloudstack-quick-install-guide/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=/2012/06/29/cloudstack-quick-install-guide/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="/2012/06/19/android-ios-access-scure/" class="read-more-btn">详细阅读</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="/2017/01/10/clone-ahv-vm-template/" title="Nutanix AHV 虚拟机模板制作">Nutanix AHV 虚拟机模板制作</a></h3>
      <p>本文描述了AHV虚拟化的虚拟机模板的制作过程。 <a href="/2017/01/10/clone-ahv-vm-template/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="/2017/01/07/nutanix-resource-sites/" title="Nutanix资源站点清单">Nutanix资源站点清单</a></h4>
        <span>Published on January 07, 2017</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="/2017/01/07/devops-glossary/" title="DevOps术语表">DevOps术语表</a></h4>
        <span>Published on January 07, 2017</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->

  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Martin Liu.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>



	        

</body>
</html>
