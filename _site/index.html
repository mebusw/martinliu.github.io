<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Martin's Blog</title>
<meta name="description" content="DevOps Coach & Cloud Expert">
<meta name="keywords" content="DevOps, Cloud, AWS, HCI, Nutanix, ITSM">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://martinliu.cn/images/path.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="DevOps Coach & Cloud Expert">
<meta name="twitter:creator" content="@zliu">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="DevOps Coach & Cloud Expert">
<meta property="og:url" content="http://martinliu.cn/">
<meta property="og:site_name" content="Martin's Blog">

<meta name="google-site-verification" content="4oSwNTpy1vzip3_lt6XhkhMfImCD_DZlvL3K1k-M8qk">



<link rel="canonical" href="http://martinliu.cn/">
<link href="http://martinliu.cn/feed.xml" type="application/atom+xml" rel="alternate" title="Martin's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://martinliu.cn/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://martinliu.cn/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://martinliu.cn/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://martinliu.cn/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://martinliu.cn/images/apple-touch-icon.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://martinliu.cn/images/apple-touch-icon-72x72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://martinliu.cn/images/apple-touch-icon-114x114.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://martinliu.cn/images/apple-touch-icon-144x144.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://martinliu.cn/">首页</a></li>
		<li>
			<a href="#">关于</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://martinliu.cn/images/avatar.jpg" alt="Martin Liu photo" class="author-photo">
					<h4>Martin Liu</h4>
					<p>DevOps Coach, Cloud Expert, Runner</p>
				</li>
				<li><a href="http://martinliu.cn/about/"><span class="btn btn-inverse">详情</span></a></li>
				<li>
					<a href="mailto:67120666@qq.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/zliu"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+MartinLiu-cn"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="https://linkedin.com/in/liuzheng"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="https://github.com/martinliu"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">文章</a>
			<ul class="dl-submenu">
				<li><a href="http://martinliu.cn/posts/">所有文章</a></li>
				<li><a href="http://martinliu.cn/tags/">所有分类</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="http://martinliu.cn/images/path.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Martin's Blog</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://martinliu.cn/2017/01/29/Install-VMs-on-Nutanix/" title="Nutanix AHV（KVM）Windows虚拟机安装全攻略"><img src="http://martinliu.cn/images/Community_Edition_-_Nutanix.jpg" alt="Nutanix AHV（KVM）Windows虚拟机安装全攻略"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-29T00:00:00+08:00"><a href="http://martinliu.cn/2017/01/29/Install-VMs-on-Nutanix/">January 29, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2017/01/29/Install-VMs-on-Nutanix/" rel="bookmark" title="Nutanix AHV（KVM）Windows虚拟机安装全攻略" itemprop="url">Nutanix AHV（KVM）Windows虚拟机安装全攻略</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="windows-">Windows 虚拟机安装</h1>
<p>Nutanix的AHV虚拟机是基于KVM的。本文件假设您使用和安装的是Nutanix社区版本的群集。在上面安装Windows虚拟机的步骤如下：</p>

<ol>
  <li>下载操作系统安装光盘</li>
  <li>上传操作系统安装光盘到Nutanix群集 （安装Windows虚拟机需要 Fedora virtio 驱动）</li>
  <li>新建和配置虚拟机</li>
  <li>安装OS</li>
  <li>安装Nutanix Guest Tools （NGT）</li>
</ol>

<p>下面用安装Windows 10举例，说明详细的安装步骤。</p>

<h2 id="iso">第一步：下载操作系统 ISO</h2>
<p>如果你需要下载 Ubuntu Desktop <a href="https://www.ubuntu.com/desktop">点这里</a>。</p>

<p>从微软的TechNet Evaluation Center下载 <a href="https://www.microsoft.com/en-us/evalcenter/">Microsoft ISO</a> 注意，评估的服务器版只能使用180天，桌面版能使用90天。</p>

<h2 id="isonutanix">第二步：上传ISO文件到Nutanix群集</h2>
<p>Nutanix群集上提供了镜像服务，可以存储几种格式的镜像：ISO格式的操作系统安装镜像，虚拟机的磁盘(如KVM格式等)。这些镜像文件可以被虚拟机通过挂载CD-ROM设备使用，或者直接克隆出虚拟机的磁盘。操作步骤如下。</p>

<p>点击右上角的齿轮图标，选择image configuration
<img src="/images/14857476024029.jpg" alt="" /></p>

<p>点击 upload image按钮</p>

<p><img src="/images/14857476555578.jpg" alt="" /></p>

<p>界面字段解释：</p>

<ul>
  <li>Name: 镜像文件的名字（用ISO来与磁盘镜像区分一下）</li>
  <li>Image Type: 选择 ISO</li>
  <li>Container: 选择用来存储ISO文件的容器</li>
  <li>Image Source: 选择上传文件作为镜像来源</li>
  <li>Save: 点击Save按钮可以看到上传的进度条。</li>
</ul>

<p><img src="/images/14857477053373.jpg" alt="" /></p>

<p>在上传成功之后，镜像清单中显示刚才的镜像为 Active 状态。</p>

<p><img src="/images/14857479049693.jpg" alt="" /></p>

<p>由于Nutanix的hypervisor是基于Linux KVM技术，它需要附加的Windows驱动，需要下载 Fedora Windows virtio 驱动。 下载地址如下：</p>

<p><a href="https://fedoraproject.org/wiki/Windows_Virtio_Drivers">https://fedoraproject.org/wiki/Windows_Virtio_Drivers</a></p>

<p>点击第三条 Direct download</p>

<p><img src="/images/14857480805485.jpg" alt="" /></p>

<p>点击 “Stable virtio-win iso” 下载最新的驱动 ISO 文件。</p>

<p><img src="/images/14857481167991.jpg" alt="" /></p>

<p>下载到的文件名如：virtio-win-0.1.126.iso；重复上述Windows IOS文件上传的步骤，把这个文件上传到镜像服务中。</p>

<p>Fedora 的开源版 VirtIO驱动和Nutanix的版本稍微有些不同。Nutanix的 VirtioIO驱动是经过数字签名的，能从Nutanix客户门户下载。由于Nutanix CE社区版是提供给所有人做体验测试的，因此这里使用的是开源版本的VirtioIO驱动，而不是Nutanix的官方版本的驱动。</p>

<p>##第三步：创建和配置虚拟机</p>

<p>我们已经准备好了Windows 10 ISO文件和 Fedora VirtIO驱动IOS文件，现在可以安装虚拟机了。步骤如下：</p>

<p>点击 Home–VM</p>

<p><img src="/images/14857485236059.jpg" alt="" /></p>

<p>点击右侧的 Create VM 按钮。</p>

<p><img src="/images/14857485706681.jpg" alt="" /></p>

<p>在下面的页面中输入虚拟机的配置。</p>

<p><img src="/images/14857486182975.jpg" alt="" />
<img src="/images/14857486277811.jpg" alt="" /></p>

<p>主要配置介绍如下：
<img src="/images/14857486605678.jpg" alt="" /></p>

<ul>
  <li>Name: Win10Desktop  虚拟机的名称</li>
  <li>vCPUs: 2  两颗虚拟CPU</li>
  <li>Number of Cores per vCPU: 1</li>
  <li>Memory: 2GB (只是做测试的话，2GB可以了)</li>
</ul>

<p>下面添加用于虚拟机挂载Windows 10 安装盘的 CDROM设备。删除默认的CDROM设备。
<img src="/images/14857489095951.jpg" alt="" /></p>

<p>由于偶尔安装Windows 10的时候默认的CDROM驱动器中Fedora Virtio驱动会显示不出来，因此删除默认的CDROM设备。</p>

<p>添加vm系统安装的磁盘。点击添加磁盘，输入如下实例信息，得到一块40GB的SCSI磁盘用来安装Window 10操作系统。</p>

<p><img src="/images/14857490738212.jpg" alt="" /></p>

<p>添加一个新的CDROM驱动盘，用来挂载 Windows 10 的ISO镜像文件，如下图所示。</p>

<ul>
  <li>Type: CDROM 类型</li>
  <li>Operation: Clone from Image Service</li>
  <li>Bus Type: IDE 类型的应该是默认类型</li>
  <li>Image: 选择刚才上传的 Win10ISO</li>
</ul>

<p><img src="/images/14857492195172.jpg" alt="" /></p>

<p>添加一个新的CDROM设备，用来挂载 Fedora Virtio驱动IOS文件，如下图所示。</p>

<ul>
  <li>Type: CDROM 类型</li>
  <li>Operation: Clone from Image Service</li>
  <li>Bus Type: IDE</li>
  <li>Image: 选择 FedoraVirtISO</li>
</ul>

<p>配置完成之后的磁盘配置布局如下。</p>

<p><img src="/images/14857493954380.jpg" alt="" /></p>

<p>现在来添加网卡，点击下面的按钮。</p>

<p><img src="/images/14857494220235.jpg" alt="" /></p>

<p>使用默认的ID为0的网络，如下图所示。（此VLAN时之前建立好的）</p>

<p><img src="/images/14857494722709.jpg" alt="" /></p>

<p>现在所有配置都已经完成，点击 Save 保存按钮。</p>

<p><img src="/images/14857495029831.jpg" alt="" /></p>

<p>页面的状态栏会出现一个绿色的执行的提示，表示后天虚拟机正在创建中。</p>

<p><img src="/images/14857495959115.jpg" alt="" /></p>

<h2 id="section">第四步：运行并安装虚拟机</h2>

<p>做如下操作来开启并运行虚拟机，进入Windows操作系统的安装过程。</p>

<ol>
  <li>点击到 VM 视图</li>
  <li>点击 Table</li>
  <li>点击  Win10Desktop VM 刚才创建的虚拟机</li>
  <li>点击  Power on</li>
  <li>当 VM 启动了, 点击  Launch Console 进入控制台页面。</li>
</ol>

<p><img src="/images/14857496408859.jpg" alt="" /></p>

<p>在Windows安装的界面，选择Custom ：高级安装选项。</p>

<p><img src="/images/14857499695677.jpg" alt="" /></p>

<p>由于我们使用的 AHV 是KVM虚拟化，所以需要加载Virtio驱动。点击 Load Driver 按钮。</p>

<p><img src="/images/14857502423986.jpg" alt="" /></p>

<p>点击 Browse 浏览。</p>

<p><img src="/images/14857502795932.jpg" alt="" /></p>

<p>点击并浏览驱动器 E： （这是之前我们挂载 Fedora Virtio ISO文件的CDROM）</p>

<p><img src="/images/14857503335113.jpg" alt="" /></p>

<p>浏览驱动盘到目录 vioscsi</p>

<p><img src="/images/14857504369501.jpg" alt="" /></p>

<p>选择 w10 目录</p>

<p><img src="/images/14857504579467.jpg" alt="" /></p>

<p>选择 amd64 目录，点击 ok</p>

<p><img src="/images/14857504816806.jpg" alt="" /></p>

<p>选择所显示出来的 Red Hat VirtIO SCSI 驱动，点击 Next</p>

<p><img src="/images/14857505411190.jpg" alt="" /></p>

<p>这样刚才创建的 40GB的磁盘就可以看到了，选择 Next</p>

<p><img src="/images/14857506028586.jpg" alt="" /></p>

<p>点击了 Next 按钮之后， Windows 10 开始安装，这个过程大约是3~10分钟不等。最后就到了Windows的账户创建的环节。虽然现在Windows已经安装完成了，还需要进入Windows的设备管理器中查看一下，设备的状态。</p>

<ul>
  <li>右击Windows的图标</li>
  <li>选择 Device Manager</li>
</ul>

<p><img src="/images/14858815713785.jpg" alt="" /></p>

<p>在设备官开启中，我们需要更新一下网卡设备的驱动。</p>

<p><img src="/images/14858816384447.jpg" alt="" /></p>

<p>右击网卡设备，选择 Update Driver Software…</p>

<p><img src="/images/14858816757065.jpg" alt="" /></p>

<p>点击 Browse，选择当前的 virtio-win-0.11 ，也就是 Fedora VirtIO 驱动的光驱设备，点击 Next</p>

<p><img src="/images/14858817470182.jpg" alt="" /></p>

<p>选中了合适的目录后，网卡设备的驱动安装正常了显示如下：</p>

<p><img src="/images/14858818602337.jpg" alt="" /></p>

<p>到目前为止，我们的Windows 10 虚拟机安装完毕了。</p>

<h2 id="nutanix-guest-tools-ngt">第五步： 安装Nutanix Guest Tools （NGT）</h2>

<p>Nutanix Guest Tools 可以实现自服务恢复和应用一致性快照功能，它需要Microsoft Volume Shadow Copy Services (VSS)服务的配合。下面来安装它。</p>

<ol>
  <li>进入虚拟机的清单视图</li>
  <li>点击 Table</li>
  <li>点击选中刚才安装的Windows 10 虚拟机</li>
  <li>点击 Enable NGT （这个操作需要有一个空闲的CDROM设备，可以点击虚拟机的编辑，把之前的两个光驱中挂载的ISO盘退出一个）</li>
  <li>在后续的窗口中点击 Yes</li>
</ol>

<p><img src="/images/14858821642374.jpg" alt="" /></p>

<p>在网页上成功启用了NGT之后，进入Windows 10桌面的控制台页面。打开Windows的资源管理器，双击带有Nutanix图标的CDROM设备，进入该设备安装NGT软件。</p>

<p><img src="/images/14858823586478.jpg" alt="" /></p>

<p>点击 Install 按钮。</p>

<p><img src="/images/14858823893756.jpg" alt="" /></p>

<p>跟随安装向导完成NGT的安装。安装完成之后，在Windows10中关机，在网页上编辑这个虚拟机的配置，删除多余的CDROM设备，之后在开机。至此Windows10虚拟机的安装过程全部完毕。</p>

<p>扩展阅读：<a href="http://martinliu.cn/2017/01/10/clone-ahv-vm-template/">Nutanix AHV 虚拟机模板制作</a></p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://martinliu.cn/2017/01/27/kyoto/" title="日本旅行-第一部分京都休闲游"><img src="http://martinliu.cn/images/p014h7g3.jpg" alt="日本旅行-第一部分京都休闲游"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-27T00:00:00+08:00"><a href="http://martinliu.cn/2017/01/27/kyoto/">January 27, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2017/01/27/kyoto/" rel="bookmark" title="日本旅行-第一部分京都休闲游" itemprop="url">日本旅行-第一部分京都休闲游</a></h1>
    
  </header>
  <div class="entry-content">
    <p>这次并不是刻意安排来日本，为了和同学凑行程，意外来日本国一游。行程稍微有点周折，从北京–威海–大板西关–京都–大板–大板西关–北京。这个行程的缺点在于选择了同一个城市进出日本。本文讲讲京都的几天。</p>

<h2 id="section">新京极</h2>

<p>在京都期间都住在了锦市场北边的一个市场附近的一家Airbnb。其实从锦市场到新京极的几个街区中间是京都市中心附近。从住所往北一站就是京都市的市政厅。往北一站就是鸭川，这是一条从北到南穿过京都市区的河流，冬季河水特别浅。</p>

<p>住所在市场旁边吃喝玩逛都非常方便。属于在居民楼中的一个商住楼。</p>

<p><img src="/images/IMG_3411.jpg" alt="IMG_3411" /></p>

<p>由于这个区域靠近商业中心，因此楼下临街商业也很发达，大街小巷遍布着各种饭馆和小店，买什么的都有。各种类型的各式各样的小店。</p>

<h2 id="section-1">伏见稻荷</h2>

<p>这里是一座山伏见稻荷山所在，山上的这个神庙以它的狐狸大神最为有名。从下图可以看出，这座香火旺盛的主庙的屋脊还是有唐朝的感觉。即使是工作日也有很多人专门来这里朝拜。</p>

<p><img src="/images/IMG_3417.jpg" alt="IMG_3417" /></p>

<p>除了在正门的主殿有人朝拜，还有山上的其它地方，凡是有人供奉的地方的石台上，都是有人书有供奉者的名字，或者是毛笔写的或者是石刻的。</p>

<p>From <a href="https://zh.wikipedia.org/wiki/%E4%BC%8F%E8%A6%8B%E7%A8%BB%E8%8D%B7%E5%A4%A7%E7%A4%BE">wiki</a></p>

<blockquote>
  <p>伏见稻荷大社位于稻荷山的山麓，在传统上整个稻荷山的范围都被视为是神域（圣地）的范围。伏见稻荷大社主要是祀奉以宇迦之御魂大神为首的诸位稻荷神，自古以来就是农业与商业的神明，除此之外也配祀包括佐田彦大神、大宫能卖大神、田中大神与四大神等其他的神明。由于每年都有大量的香客前来神社祭拜求取农作丰收、生意兴隆、交通安全，使得该神社成为京都地区香火最盛的神社之一。另外，起源于江户时代的习俗，前来此地许愿的人们往往会捐款在神社境内竖立一座鸟居来表达对神明的敬意，使得伏见稻荷大社的范围内竖有数量惊人的大小鸟居，而以“千本鸟居”之名闻名日本全国乃至于海外。捐款竖立鸟居的单位包含个人、公司行号乃至于各地的商会组织，目前现存的鸟居，最早可以追溯到明治年间。
在神社的</p>
</blockquote>

<p><img src="/images/IMG_3414.jpg" alt="IMG_3414" /></p>

<p>从右侧上山，到山顶后从左侧下山，如果走的快的话，两个小时左右可以玩完。这里可以看到日本所信奉的神的多样性。各种植物、动物和农业相关的东西比较多。</p>

<p>我们走到半山腰的一个桔园时，有些迷路的感觉，觉得找不到路了。有一个出租车司机回家，把车停到了路边换鞋回家；看到我们似乎找不到路了，他回家后拿来一张地图给我们指路。由于日本的英语真的不通，他所以回家那地图来，大约至少用了他四十分钟的时间，拿着地图来告诉我们继续向前走就可以到山顶了。他说的所有话里面，就两个词可以听懂“Top”和“thirty minutes”；很感谢这个指路人。</p>

<p>上顶上有一个能够俯瞰市区景色的地方，几排长椅上，人们一边看风景，一遍晒太阳，还是很休闲的。</p>

<h2 id="section-2">奈良</h2>
<p>奈良到京都不远。来这里大部分时间都放在了，带孩子喂鹿上了，基本没有怎么逛著名的东大寺。</p>

<p>我们在路上换车的时候，做错了车，做了一辆特急的快车，结果需要补票花了1千多。</p>

<p><img src="/images/IMG_3430.jpg" alt="IMG_3430" /></p>

<p>出了地铁站不远，就可以看到奈良公园的小鹿，一波一波的喂鹿，孩子总是能想出各种奇思妙想的喂法，基本一天没干别的。</p>

<p><a href="https://zh.wikipedia.org/wiki/%E4%B8%9C%E5%A4%A7%E5%AF%BA">From Wiki</a></p>

<blockquote>
  <p>东大寺（日语：東大寺），位于日本奈良县奈良市杂司町，是华严宗大本山，南都七大寺之一，距今约有一千二百余年的历史。1998年作为“古都奈良的文化财”的一部分被列为世界文化遗产。
佛寺是728年由信奉佛教的圣武天皇建立的。东大寺是全国68所国分寺的总寺院。因为建在首都平城京以东，所以被称作东大寺。另外有西大寺。</p>
</blockquote>

<p><img src="/images/IMG_3439.jpg" alt="IMG_3439" /></p>

<p>最后到寺院里面转了一圈依然下班了。发现日本的景点都是在寺庙附近的；和各种大寺相关的公园非常多，有寺庙，就有公园，就有风景。</p>

<h2 id="section-3">二条城</h2>

<p>这个城是一个将军府，距离天皇住所不远。麻雀虽小五脏俱全，它内城和外城，有两层的护城河，城墙是很低的。</p>

<p><a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E6%A2%9D%E5%9F%8E">From wiki</a></p>

<blockquote>
  <p>二条城是一座位于日本京都府京都市中京区二条城町的城堡，建设于江户时代初期（1603年）。曾经是德川家康的寓所。位于京都市街的一座平城。1994年，被联合国教育科学文化组织列入世界遗产中的古都京都的文化财之一。狭义上，二条城，就是江户时代筑起的城池，但是在广义上，是指第十三代室町幕府将军足利义辉的居城、织田信长为十五代将军足利义昭建造的城池，1573年织田信长举兵将足利义昭放逐河内，此城便被焚毁，在其它地方另筑二条御所，之后献给皇太子。但是一般所提及的二条城，是德川家康筑城的二条城（朝廷则称之为二条亭）。1867年（庆应3年）第十五代将军德川庆喜，在二条城举行“大政奉还”仪式，将政权归还给了天皇，二条城因而闻名。1871年（明治4年） 二之丸御殿作为京都府厅舍。1873年（明治6年）除二之丸外归陆军省。1885年（明治18年）京都府的新厅舍完成移转新址后，二之丸御殿开始修理直到1892年（明治25年）。1893年（明治26年）到1894年（明治27年）将桂宫邸本丸移筑，始有本丸御殿。1915年（大正4年）大正天皇即位仪式大典于二之丸御殿举行，并开始增建南门二之丸御殿的附属建物。1939年，天皇又将之赐给宫内省，并于隔年更名为“元离宫二条城”，正式对外开放参观。</p>
</blockquote>

<p><img src="/images/IMG_3441.jpg" alt="IMG_3441" /></p>

<p>这是一个比较小规模的景点，出了地铁站，东门正在维修，绕到北门，顺序参观完了外城、内层和各种建筑。这座建筑也是重建的，大约有80多年的历史，曾经被焚毁；最近一次好像是被雷击失火。</p>

<h2 id="section-4">鸭川</h2>

<p>我下图的跑步路线大约就是鸭川的主要部分。其中三条到5条的河岸左侧就是京都旧市井的所在，感觉像是北京的南锣鼓巷，不过原貌保护的更好一些。
<img src="/images/IMG_3493.jpg" alt="IMG_3493" /></p>

<h2 id="section-5">炸猪排饭</h2>

<p>日餐里面的食物和中餐是非常相似的，随便进一个店，都不用为吃啥发愁；有些饭馆是有日文、英语和中文菜单的。下图是一家专门做炸猪排饭的饭馆。这家饭馆主要做三总餐：炸猪排饭、红烧猪排饭和炸大虾饭。套餐的价格在900日元左右，量还是比较多的。我点了一杯扎啤配炸猪排饭味道非常好。</p>

<p><img src="/images/IMG_3494.jpg" alt="炸猪排" /></p>

<p>这家餐厅吃了两次，感觉非常好，年长的老人在店里带领几个非常年轻的孩子们，把这家店搭理的井井有条。看着食物制作的每一个工序，感觉还是不错的。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-10T00:00:00+08:00"><a href="http://martinliu.cn/2017/01/10/clone-ahv-vm-template/">January 10, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2017/01/10/clone-ahv-vm-template/" rel="bookmark" title="Nutanix AHV 虚拟机模板制作" itemprop="url">Nutanix AHV 虚拟机模板制作</a></h1>
    
  </header>
  <div class="entry-content">
    <p>本文描述了AHV虚拟化的虚拟机模板的制作过程。首先使用ssh登录cvm，进入acropolis命令行。</p>

<h2 id="section">找出模板对应的虚拟机</h2>

<p>使用 vm.disk_get 命令，按多次tab，显示虚拟机清单，复制模板机名称</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;acropolis&gt; vm.disk_get vm-fedora25
ide.0 {
  addr {
    bus: "ide"
    index: 0
  }
  cdrom: True
  empty: True
}
scsi.0 {
  addr {
    bus: "scsi"
    index: 0
  }
  container_id: 4427
  container_uuid: "9279ba2c-8e8d-4aea-b00f-410df5a18a23"
  vmdisk_size: 10737418240
  vmdisk_uuid: "7476458e-7917-4df8-b830-a0df5a95dae9"
}
</code></pre>
</div>

<h2 id="section-1">创建模板镜像</h2>

<p>使用从虚拟机磁盘克隆出镜像的命令。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;acropolis&gt; image.create fedora25-Template clone_from_vmdisk=7476458e-7917-4df8-b830-a0df5a95dae9 image_type=kDiskImage annotation='Fedora 25 Server Template'
fedora25-Template: complete

</code></pre>
</div>

<h2 id="section-2">模板测试</h2>

<p>登录Prism界面，点击镜像服务，确认清单中刚才创建的虚拟机模板镜像；进入vm页面，创建虚拟机，使用 fedora25-Template 镜像做磁盘</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://martinliu.cn/2017/01/07/nutanix-resource-sites/" title="Nutanix资源站点清单"><img src="http://martinliu.cn/images/google-earth-view-6043.jpg" alt="Nutanix资源站点清单"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-07T00:00:00+08:00"><a href="http://martinliu.cn/2017/01/07/nutanix-resource-sites/">January 07, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2017/01/07/nutanix-resource-sites/" rel="bookmark" title="Nutanix资源站点清单" itemprop="url">Nutanix资源站点清单</a></h1>
    
  </header>
  <div class="entry-content">
    <p>做Nutanix的那些不可不知道的资源网站，这里列出了常用的官方和非官方网站。</p>

<h2 id="nutanix-">Nutanix 官方站点</h2>

<h3 id="httpportalnutanixcom">http://portal.nutanix.com/</h3>

<p><a href="http://portal.nutanix.com/">http://portal.nutanix.com/</a></p>

<ul>
  <li>在线文档</li>
  <li>在线技术支持，case查看和操作</li>
  <li>产品和补丁下载</li>
</ul>

<h3 id="httpsnextnutanixcom">https://next.nutanix.com/</h3>

<p><a href="https://next.nutanix.com/">https://next.nutanix.com/</a></p>

<ul>
  <li>产品网上论坛和社区</li>
  <li>社区版论坛</li>
  <li>博客， Nutanix Connect Blog</li>
</ul>

<h2 id="section">技术达人网站和博客</h2>

<h3 id="myvirtualcloudnet-by-andre-leibovici">myvirtualcloud.net by Andre Leibovici</h3>

<p><a href="http://myvirtualcloud.net/nutanix/">http://myvirtualcloud.net/nutanix/</a></p>

<h3 id="virtual-life-style-by-joep-piscaer">Virtual life style by Joep Piscaer</h3>

<p><a href="https://www.virtuallifestyle.nl/">https://www.virtuallifestyle.nl/</a></p>

<h3 id="the-nutanix-bible-by-steven-poitras">The Nutanix Bible by Steven Poitras</h3>
<p><a href="http://nutanixbible.com/">http://nutanixbible.com/</a></p>

<h3 id="marks-blog-by-mark-lavi">Mark’s Blog by Mark Lavi</h3>
<p><a href="http://mlavi.github.io/">http://mlavi.github.io/</a></p>

<h3 id="jeremy-sallee----nutanix-uifrontend-">Jeremy Sallee -  Nutanix UI/Frontend 设计师</h3>

<p><a href="http://salleedesign.com/stuff/sdwip/home/">http://salleedesign.com/stuff/sdwip/home/</a></p>

<p>想知道Prism是怎么设计出来的：<a href="http://salleedesign.com/stuff/sdwip/blog/nutanix-case-study/">点这里</a></p>

<h3 id="virtual-dennis-by-dennis-laube">Virtual Dennis by Dennis Laube</h3>

<p><a href="http://www.virtualdennis.com/category/nutanix/">http://www.virtualdennis.com/category/nutanix/</a></p>

<ul>
  <li><a href="http://www.virtualdennis.com/importing-an-ovf-ova-into-nutanix-ahv-using-prism/">如何ova格式的虚拟机导入Nutanix AHV</a>  镜像服务能够支持Web界面上传导入的格式包括：raw, vhd, vmdk, vdi, iso 和 qcow2 磁盘，导入为Disk后，即可用做模板</li>
  <li><a href="http://www.virtualdennis.com/nutanix-acropolis-hypervisor-ahv-create-an-image-service-template-from-an-existing-vm/">如何在Nutanix中制作AHV虚拟机模板</a> 使用acli命令：vm.disk_get；image.create W2K12R2-Template clone_from_vmdisk=69df5abd-6570-4ce1-ba77-2d117c3df7e5 image_type=kDiskImage
*</li>
</ul>

<h2 id="section-1">其他资源</h2>

<h3 id="nutanix-viso-">Nutanix viso 图标下载</h3>

<p><a href="http://www.visiocafe.com/nutanix.htm">http://www.visiocafe.com/nutanix.htm</a></p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://martinliu.cn/2017/01/07/devops-glossary/" title="DevOps术语表"><img src="http://martinliu.cn/images/pexels-photo.jpg" alt="DevOps术语表"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-07T00:00:00+08:00"><a href="http://martinliu.cn/2017/01/07/devops-glossary/">January 07, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2017/01/07/devops-glossary/" rel="bookmark" title="DevOps术语表" itemprop="url">DevOps术语表</a></h1>
    
  </header>
  <div class="entry-content">
    <p>本术语表主要来源于DevOps相关书籍。</p>

<table>
  <thead>
    <tr>
      <th>英文</th>
      <th>中文</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>artifacts</td>
      <td>部署包</td>
    </tr>
    <tr>
      <td>Telemetry</td>
      <td>告警数据</td>
    </tr>
    <tr>
      <td>process time</td>
      <td>处理时间</td>
    </tr>
    <tr>
      <td>cycle time</td>
      <td>周期时间</td>
    </tr>
    <tr>
      <td>tightly-coupled</td>
      <td>紧耦合</td>
    </tr>
    <tr>
      <td>monolithic applications</td>
      <td>单体应用</td>
    </tr>
    <tr>
      <td>lead time</td>
      <td>前置时间</td>
    </tr>
    <tr>
      <td>developer</td>
      <td>开发人员</td>
    </tr>
    <tr>
      <td>Exploratory test</td>
      <td>探索测试</td>
    </tr>
    <tr>
      <td>batch sizes</td>
      <td>批次尺寸</td>
    </tr>
    <tr>
      <td>Affinity</td>
      <td>亲和</td>
    </tr>
    <tr>
      <td>Agile</td>
      <td>敏捷</td>
    </tr>
    <tr>
      <td>Application Deployment</td>
      <td>应用部署</td>
    </tr>
    <tr>
      <td>Artifact Management</td>
      <td>构件库管理</td>
    </tr>
    <tr>
      <td>Automation</td>
      <td>自动化</td>
    </tr>
    <tr>
      <td>Blamelessness</td>
      <td>免责</td>
    </tr>
    <tr>
      <td>Cloud Computing</td>
      <td>云计算</td>
    </tr>
    <tr>
      <td>Collaboration</td>
      <td>协作</td>
    </tr>
    <tr>
      <td>Configuration Management</td>
      <td>配置管理</td>
    </tr>
    <tr>
      <td>Containers</td>
      <td>容器</td>
    </tr>
    <tr>
      <td>Continuous Delivery</td>
      <td>持续交付</td>
    </tr>
    <tr>
      <td>Continuous Deployment</td>
      <td>持续部署</td>
    </tr>
    <tr>
      <td>Continuous Integration</td>
      <td>持续集成</td>
    </tr>
    <tr>
      <td>Definition of Done</td>
      <td>完成的定义</td>
    </tr>
    <tr>
      <td>Infrastructure Automation</td>
      <td>基础架构自动化</td>
    </tr>
    <tr>
      <td>Iteration</td>
      <td>迭代</td>
    </tr>
    <tr>
      <td>ITSM (IT Service Management)</td>
      <td>IT服务管理</td>
    </tr>
    <tr>
      <td>Ji-Kotei-Kanketsu (JKK)</td>
      <td>质量检查（JKK）</td>
    </tr>
    <tr>
      <td>Just-in-Time (JiT)</td>
      <td>准时</td>
    </tr>
    <tr>
      <td>Kaizen (in Lean)</td>
      <td>持续改善</td>
    </tr>
    <tr>
      <td>Lean</td>
      <td>精益</td>
    </tr>
    <tr>
      <td>Micro-service</td>
      <td>微服务</td>
    </tr>
    <tr>
      <td>Minimum Viable Product</td>
      <td>最小可用产品</td>
    </tr>
    <tr>
      <td>One-piece-flow</td>
      <td>单件流</td>
    </tr>
    <tr>
      <td>Operations Story</td>
      <td>运维故事</td>
    </tr>
    <tr>
      <td>Organizational Learning</td>
      <td>组织级学习</td>
    </tr>
    <tr>
      <td>Plan-Do-Check-Act cycle (PDCA cycle)</td>
      <td>计划-实施-检查-改进 （戴明环）</td>
    </tr>
    <tr>
      <td>Post-Mortem</td>
      <td>事后剖析</td>
    </tr>
    <tr>
      <td>Product Owner</td>
      <td>产品负责人</td>
    </tr>
    <tr>
      <td>Retrospective</td>
      <td>回顾</td>
    </tr>
    <tr>
      <td>Rhythm</td>
      <td>节奏</td>
    </tr>
    <tr>
      <td>Scaling</td>
      <td>规模化</td>
    </tr>
    <tr>
      <td>Scrum</td>
      <td>Scrum</td>
    </tr>
    <tr>
      <td>Scrum Master</td>
      <td>Scrum Master</td>
    </tr>
    <tr>
      <td>Service Deployment</td>
      <td>服务部署</td>
    </tr>
    <tr>
      <td>Service Level Agreement (SLA)</td>
      <td>服务级别协议(SLA)</td>
    </tr>
    <tr>
      <td>Sprint</td>
      <td>冲刺</td>
    </tr>
    <tr>
      <td>Test Story</td>
      <td>测试故事</td>
    </tr>
    <tr>
      <td>Test-Driven Development</td>
      <td>测试驱动开发</td>
    </tr>
    <tr>
      <td>Tools</td>
      <td>工具</td>
    </tr>
    <tr>
      <td>Toyota Production System (TPS)</td>
      <td>丰田生产系统</td>
    </tr>
    <tr>
      <td>User Story</td>
      <td>用户故事</td>
    </tr>
    <tr>
      <td>Velocity</td>
      <td>速率</td>
    </tr>
    <tr>
      <td>Version Control</td>
      <td>版本控制</td>
    </tr>
    <tr>
      <td>Waterfall</td>
      <td>瀑布式</td>
    </tr>
    <tr>
      <td>WiP-limit</td>
      <td>在制品数量限制</td>
    </tr>
    <tr>
      <td>Work-in-Progress (WiP)</td>
      <td>在制品</td>
    </tr>
    <tr>
      <td>Work center</td>
      <td>工作中心</td>
    </tr>
    <tr>
      <td>Flow</td>
      <td>流</td>
    </tr>
    <tr>
      <td>Kanban</td>
      <td>看板</td>
    </tr>
    <tr>
      <td>Backlog</td>
      <td>Backlog</td>
    </tr>
    <tr>
      <td>Visible</td>
      <td>可视化</td>
    </tr>
    <tr>
      <td>Value stream</td>
      <td>价值流</td>
    </tr>
    <tr>
      <td>Staging</td>
      <td>Staging</td>
    </tr>
    <tr>
      <td>Card</td>
      <td>卡片</td>
    </tr>
    <tr>
      <td>Ticketing System</td>
      <td>工单系统</td>
    </tr>
    <tr>
      <td>work center</td>
      <td>工作中心</td>
    </tr>
    <tr>
      <td>downstream/upstream</td>
      <td>下游/上游</td>
    </tr>
    <tr>
      <td>feature</td>
      <td>功能</td>
    </tr>
    <tr>
      <td>Handoff</td>
      <td>交接</td>
    </tr>
    <tr>
      <td>Feedback/feedback loop</td>
      <td>反馈/反馈回路</td>
    </tr>
    <tr>
      <td>feedforward/feedforward loop</td>
      <td>前馈/前馈回路</td>
    </tr>
    <tr>
      <td>organizational learning</td>
      <td>组织学习</td>
    </tr>
    <tr>
      <td>value stream mapping</td>
      <td>价值流映射</td>
    </tr>
    <tr>
      <td>pilot</td>
      <td>试点</td>
    </tr>
    <tr>
      <td>technical debt</td>
      <td>技术债务</td>
    </tr>
    <tr>
      <td>DevOps transformation</td>
      <td>DevOps转型</td>
    </tr>
    <tr>
      <td>systems of record</td>
      <td>记录系统</td>
    </tr>
    <tr>
      <td>systems of engagement</td>
      <td>交互系统</td>
    </tr>
    <tr>
      <td>compliance requirement</td>
      <td>合规性要求</td>
    </tr>
    <tr>
      <td>telemetry</td>
      <td>监控</td>
    </tr>
    <tr>
      <td>Andon cord</td>
      <td>安灯拉绳</td>
    </tr>
    <tr>
      <td>incident</td>
      <td>事件</td>
    </tr>
    <tr>
      <td>accident</td>
      <td>意外</td>
    </tr>
    <tr>
      <td>safety culture</td>
      <td>安全文化</td>
    </tr>
    <tr>
      <td>just culture</td>
      <td>正义文化</td>
    </tr>
    <tr>
      <td>blame</td>
      <td>问责</td>
    </tr>
    <tr>
      <td>pipeline</td>
      <td>流水线</td>
    </tr>
    <tr>
      <td>acceptance stage</td>
      <td>验收阶段</td>
    </tr>
    <tr>
      <td>commit stage</td>
      <td>提交阶段</td>
    </tr>
    <tr>
      <td>staging environments, SIT</td>
      <td>准生产环境</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>请帮忙改进本术语表，<a href="https://github.com/martinliu/martinliu.github.io/blob/master/_posts/2017-01-07-devops-glossary.md">点这里</a>。</p>

<p>注意事项：</p>

<ul>
  <li>建议clone整个repo做批量更新，小批量可以直接在github网页上提交</li>
  <li>请不要完全删除之前的翻译，可以把旧翻译划横线（使用markdown），在右边添加新的中文意思。</li>
</ul>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    

    
    
      <li><strong class="current-page">1</strong></li>
    

    
    

    
    
    

    
      
        
        
        
        <li><a href="http://martinliu.cn/page2/">2</a></li>
      
    
      
        
        
        
        <li><a href="http://martinliu.cn/page3/">3</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="http://martinliu.cn/page94/">94</a></li>
    

    
    
      <li><a href="http://martinliu.cn/page2/" class="btn">下一页</a></li>
    
  </ul>
</div>



</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Martin Liu.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://martinliu.cn/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://martinliu.cn/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-749876-6', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>


          

</body>
</html>