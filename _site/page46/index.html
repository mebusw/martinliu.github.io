<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Martin's Blog</title>
<meta name="description" content="DevOps Coach & Cloud Expert">
<meta name="keywords" content="DevOps, Cloud, AWS, HCI, Nutanix, ITSM">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://martinliu.cn/images/path.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="DevOps Coach & Cloud Expert">
<meta name="twitter:creator" content="@zliu">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="DevOps Coach & Cloud Expert">
<meta property="og:url" content="http://martinliu.cn/page46/">
<meta property="og:site_name" content="Martin's Blog">

<meta name="google-site-verification" content="4oSwNTpy1vzip3_lt6XhkhMfImCD_DZlvL3K1k-M8qk">



<link rel="canonical" href="http://martinliu.cn/page46/">
<link href="http://martinliu.cn/feed.xml" type="application/atom+xml" rel="alternate" title="Martin's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://martinliu.cn/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://martinliu.cn/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://martinliu.cn/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://martinliu.cn/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://martinliu.cn/images/apple-touch-icon.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://martinliu.cn/images/apple-touch-icon-72x72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://martinliu.cn/images/apple-touch-icon-114x114.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://martinliu.cn/images/apple-touch-icon-144x144.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://martinliu.cn/">首页</a></li>
		<li>
			<a href="#">关于</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://martinliu.cn/images/avatar.jpg" alt="Martin Liu photo" class="author-photo">
					<h4>Martin Liu</h4>
					<p>DevOps Coach, Cloud Expert, Runner</p>
				</li>
				<li><a href="http://martinliu.cn/about/"><span class="btn btn-inverse">详情</span></a></li>
				<li>
					<a href="mailto:67120666@qq.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/zliu"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+MartinLiu-cn"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="https://linkedin.com/in/liuzheng"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="https://github.com/martinliu"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">文章</a>
			<ul class="dl-submenu">
				<li><a href="http://martinliu.cn/posts/">所有文章</a></li>
				<li><a href="http://martinliu.cn/tags/">所有分类</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="http://martinliu.cn/images/path.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Martin's Blog</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-06T20:47:45+08:00"><a href="http://martinliu.cn/2012/07/06/e8-87-aa-e5-ae-9a-e4-b9-89-e6-9c-8d-e5-8a-a1-e6-a8-a1-e6-9d-bf-e6-97-a0-e6-b3-95-e5-88-9b-e5-bb-ba-e8-99-9a-e6-8b-9f-e6-9c-ba/">July 06, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2012/07/06/e8-87-aa-e5-ae-9a-e4-b9-89-e6-9c-8d-e5-8a-a1-e6-a8-a1-e6-9d-bf-e6-97-a0-e6-b3-95-e5-88-9b-e5-bb-ba-e8-99-9a-e6-8b-9f-e6-9c-ba/" rel="bookmark" title="自定义服务模板无法创建虚拟机" itemprop="url">自定义服务模板无法创建虚拟机</a></h1>
    
  </header>
  <div class="entry-content">
    <p>今天测试发现，使用自定义的服务模板无法创建虚拟机实例。但是默认安装的两个服务模板能够正常创建虚拟机。</p>

<p>目前还没要找到合理的解决方法。而且还有另外一个问题 ，使用ISO模式安装的xp，安装了xentools之后初始化的网络配置丢失了。这个问题容易理解原因，但是真的不应该发生这种问题的。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-06T00:49:31+08:00"><a href="http://martinliu.cn/2012/07/06/zt-reference-architectures-that-scale-citrix-xendesktop-on-flexpod-with-microsoft-private-cloud/">July 06, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2012/07/06/zt-reference-architectures-that-scale-citrix-xendesktop-on-flexpod-with-microsoft-private-cloud/" rel="bookmark" title="[ZT] Reference Architectures that Scale: Citrix XenDesktop on FlexPod with Microsoft Private Cloud" itemprop="url">[ZT] Reference Architectures that Scale: Citrix XenDesktop on FlexPod with Microsoft Private Cloud</a></h1>
    
  </header>
  <div class="entry-content">
    <p>今天学习了一篇很有意义的帖子，特别是它的结论对我特别有帮助。帖子的原文地址：<a href="http://blogs.citrix.com/2012/07/03/reference-architectures-that-scale-citrix-xendesktop-on-flexpod-with-microsoft-private-cloud/">Reference Architectures that Scale: Citrix XenDesktop on FlexPod with Microsoft Private Cloud</a></p>

<p>下面是硬件的测试架构，使用的服务器是UCS 14刀，NatApp存储，Hyper-V，加载XenDesktop 5.6</p>

<p><a href="http://cdn.ws.citrix.com/wp-content/uploads/2012/07/1-CVD-SolutionsOverview.png"><img src="http://cdn.ws.citrix.com/wp-content/uploads/2012/07/1-CVD-SolutionsOverview-1024x743.png" alt="" /></a></p>

<p><strong><em>Test Results</em></strong></p>

<p>The reference implementation achieved impressive results in our test runs, especially in comparison to previous testing with earlier generation Cisco blades. As a matter of fact, the tested configuration reduced the rack space needed to support 2000 users, decreasing it from 30 Rack Units (RUs) to 12 RUs. This density can help to lower power use, which directly translates into energy savings.</p>

<p>The results specifically showed that the Cisco UCS B230 M2 half-width blade (featuring dual-socket, 10-core processors and 256GB of memory) can support medium workloads up to 145 users per blade. A single FlexPod VDI design containing two Cisco UCS chassis units with 14 such blades can support at least 2000 virtual desktop workloads while maintaining acceptable response times. The results clearly demonstrated linear scalability of desktop workloads for this reference architecture.  Detailed metrics are given below.</p>

<p>14片在12U的空间上，轻松的支撑了2000个Normal型工作负载的Win7虚拟桌面（1.5GB/8~12IOPS；所有虚拟机开机启动时间为半个小时。平均每个刀片上能够支持145个用户，而且维持了比较合理的用户相应速度。在这个架构中，证明了XenDeskTop可以实现横向扩展的特性。</p>

<p>微软和思科的详细测试报告下载：</p>

<p>[download id=”13” format=”1”]</p>

<p>[download id=”12” format=”1”]</p>

<h2 id="section">微软测试报告中的主要结论：</h2>

<p>Microsoft, Citrix, Cisco, and NetApp successfully validated XenDesktop streaming 2,000 concurrent Windows 7 desktops to virtual machines hosted with Hyper-V. The deployment was built on a 16-node FlexPod with Microsoft Private Cloud infrastructure that comprises the hardware requirements in the Microsoft Private Cloud Fast Track program. The hardware, in conjunction with Windows Server 2008 R2 Enterprise SP1, Hyper-V, System Center 2012, and Citrix XenDesktop 5.6:</p>

<blockquote>

&gt; 
&gt; 
	
&gt;   * Validated that a single instance of Virtual Machine Manager and a single instance of the XenDesktop delivery controller successfully hosted 2,000 VDI workloads.
&gt; 
	
&gt;   * Verified single-server scalability: 143 Windows 7 desktops with 512 MB of dynamic memory (expandable to 2 GB) running knowledge worker load on a single Cisco UCS B230 M2 Blade Server with 20 cores and 256 GB of random access memory (RAM).
&gt; 
	
&gt;   * Validated a fully virtualized environment where all VDI components (such as Active Directory Domain Services, Microsoft SQL Server, VMM, XenDesktop, and Provisioning Server) were run in virtual machines.
&gt; 
	
&gt;   * _**Observed an 80 percent storage savings in comparison to a similar VDI environment without NetApp storage efficiencies.**_
&gt; 

</blockquote>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-05T23:27:33+08:00"><a href="http://martinliu.cn/2012/07/05/e4-bd-bf-e7-94-a8iso-e6-96-87-e4-bb-b6-e5-ae-89-e8-a3-85-e8-99-9a-e6-8b-9f-e6-9c-ba-e5-ae-9e-e4-be-8b/">July 05, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2012/07/05/e4-bd-bf-e7-94-a8iso-e6-96-87-e4-bb-b6-e5-ae-89-e8-a3-85-e8-99-9a-e6-8b-9f-e6-9c-ba-e5-ae-9e-e4-be-8b/" rel="bookmark" title="使用ISO文件安装虚拟机实例" itemprop="url">使用ISO文件安装虚拟机实例</a></h1>
    
  </header>
  <div class="entry-content">
    <p>CloudStack安装完毕之后，第一件事情就是安装虚拟机。使用Apache做为ISO虚拟机的下载站点，你可能会遇连接被拒绝的错误。这是由于Apache服务器默认没有iso这个mime类型，iso文件被复制到/var/www/html之后，往往权限不对，为了测试可以直接chomd 777一下。通过ISO作为启动模板安装虚拟机的时候也发现Ubuntu 10.04 server版创建虚拟失败，连卷都没有创建出来，创建windows xp虚拟正常，ubuntu的问题原因不祥。有空研究一下。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-05T16:38:37+08:00"><a href="http://martinliu.cn/2012/07/05/upload-iso-install-os/">July 05, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2012/07/05/upload-iso-install-os/" rel="bookmark" title="在CloudStack上如何上传ISO和安装系统" itemprop="url">在CloudStack上如何上传ISO和安装系统</a></h1>
    
  </header>
  <div class="entry-content">
    <p>上传操作系统ISO到CloudStack服务器上，是一个简单的过程。为了图省事，我在管理服务器上搭了iso下载服务器。首先保证本机安装了httpd服务，这个apache的安装包，通常是操作系统自带的，没有的话yum install httpd 一下；之后 service httpd restart一下，保证http服务正常。之后要修改一下/etc/mime.types文件加入一行：
[shell]
# MIME type                                     Extensions
none/none                                       iso
[/shell]
再次重启httpd服务。
复制ISO文件到apache服务的默认路径下面/var/www/html/
在浏览器里面测试一下看看上传的iso文件是否能够下载http://192.168.10.15/MS_zh-hans_windows_xp_professional_with_service_pack_3_x86_cd_x14-80404.iso
CloudStack支持HTTP共享目录的方式复制ISO文件，ISO文件被管理服务器下载到它的secondary存储中。
登录CloudStack界面，使用模板管理，添加一个ISO。如下图所示
<a href="http://martinliu.cn/wp-content/gallery/cloudstack/screenshot-6.png"><img src="http://martinliu.cn/wp-content/gallery/cloudstack/thumbs/thumbs_screenshot-6.png" alt="add a iso" /></a>
上传iso文件成功之后，就可以使用实例管理，增加一个实例，开始安装操作系统了。安装操作系统的过程忽略。当看到你建立的实例为运行状态后，点击控制台图标， 在新弹出的console窗口中，我们就可以看到windows的安装画面了。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-04T22:27:00+08:00"><a href="http://martinliu.cn/2012/07/04/e9-9d-92-e5-b2-9b-e7-9f-ad-e6-9a-82-e5-87-ba-e5-b7-ae/">July 04, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="http://martinliu.cn/about/" title="About Martin Liu">Martin Liu</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://martinliu.cn/2012/07/04/e9-9d-92-e5-b2-9b-e7-9f-ad-e6-9a-82-e5-87-ba-e5-b7-ae/" rel="bookmark" title="青岛短暂出差" itemprop="url">青岛短暂出差</a></h1>
    
  </header>
  <div class="entry-content">
    <p>短暂的访问了青岛的客户，下午回到了北京。比较而言，北京像是个热锅，闷的人喘不过气，回想起海风的味道，真感觉在青岛逗留的时间太短了。客户是铁杆的XenApp的粉丝，给他们介绍了整个系统架构之后，用户感觉很好；原来我的这些需求你们都有解决方案，产品确实都有这些功能。遗憾的是不是每个客户都是从开始就意识到整个架构，意识到所有模块和功能，说白了，用了好几年了，还没有把系统的发展道路看清楚。作为一个实体而言，不同的单位平行独立建设的情况较多，缺乏统筹安排。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="http://martinliu.cn/page45/" class="btn">向前</a></li>
      
    

    
    
      <li><a href="http://martinliu.cn">1</a></li>
    

    
    
      
      
      <li>…</li>
    

    
    
    

    
      
        
        
        
        <li><a href="http://martinliu.cn/page44/">44</a></li>
      
    
      
        
        
        
        <li><a href="http://martinliu.cn/page45/">45</a></li>
      
    
      
        <li><strong class="current-page">46</strong></li>
      
    
      
        
        
        
        <li><a href="http://martinliu.cn/page47/">47</a></li>
      
    
      
        
        
        
        <li><a href="http://martinliu.cn/page48/">48</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="http://martinliu.cn/page94/">94</a></li>
    

    
    
      <li><a href="http://martinliu.cn/page47/" class="btn">下一页</a></li>
    
  </ul>
</div>



</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Martin Liu.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://martinliu.cn/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://martinliu.cn/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-749876-6', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>


          

</body>
</html>